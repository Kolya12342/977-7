// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,z,da,fa,ha,N,ia,la,ma,O,na,oa,S,pa,qa,ra,sa,U,ta,ua,va,ya,za,V,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,X,Mb,Nb,Y,Ob,Pb={},Qb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,c,t,w){this.set(a,c,t,w)}function k(){this.yc=this.xc=this.Ac=this.zc=this.Wc=this.Vc=this.pc=this.oc=0}function q(a,c,t,w){a<c?t<w?(y=a<t?a:t,v=c>w?c:w):(y=a<w?a:w,v=c>t?c:t):t<w?(y=c<t?c:t,v=a>w?a:w):(y=c<w?c:w,v=a>t?a:t)}function p(){this.items=this.Ub=null;this.Te=0;B&&(this.Ub=new Set);this.ne=[];this.Bc=!0}function u(a){Q[C++]=a}function m(){this.Ga=this.Bg=this.y=this.Rg=0}function b(a){this.be=[];this.Pi=this.Ri=this.Si=this.Qi=0;this.Po(a)}function a(a,c){this.Xg=
a;this.Wg=c;this.cells={}}function e(a,c){this.Xg=a;this.Wg=c;this.cells={}}function r(a,c,t){var w;return W.length?(w=W.pop(),w.wh=a,w.x=c,w.y=t,w):new aa(a,c,t)}function c(a,c,t){this.wh=a;this.x=c;this.y=t;this.na=new ba}function d(a,c,t){var w;return A.length?(w=A.pop(),w.wh=a,w.x=c,w.y=t,w):new ca(a,c,t)}function g(a,c,t){this.wh=a;this.x=c;this.y=t;this.na=[];this.Rd=!0;this.Rb=new ba;this.re=!1}function l(a,c){return a.Fb-c.Fb}z=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};N=function(a){return"string"===typeof a};ia=function(a){return 0>a?-a:a};la=function(a,c){return a<c?a:c};ma=Math.PI;O=function(a){return 0<=a?a|0:(a|0)-1};na=function(a){var c=a|0;return c===a?c:c+1};oa=function(a,c,t,w,d,h,e,l){var g,r,n,b;a<t?(r=a,g=t):(r=t,g=a);d<e?(b=d,n=e):(b=e,n=d);if(g<b||r>n)return!1;c<w?(r=c,g=w):(r=w,g=c);h<
l?(b=h,n=l):(b=l,n=h);if(g<b||r>n)return!1;g=d-a+e-t;r=h-c+l-w;a=t-a;c=w-c;d=e-d;h=l-h;l=ia(c*d-h*a);return ia(d*r-h*g)>l?!1:ia(a*r-c*g)<=l};f.prototype.set=function(a,c,t,w){this.left=a;this.top=c;this.right=t;this.bottom=w};f.prototype.xe=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=function(){return this.right-this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,c){this.left+=a;this.top+=c;
this.right+=a;this.bottom+=c;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.Gb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};f.prototype.De=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};S=f;k.prototype.xg=function(a){this.oc=a.left;this.pc=a.top;this.Vc=
a.right;this.Wc=a.top;this.zc=a.right;this.Ac=a.bottom;this.xc=a.left;this.yc=a.bottom};k.prototype.Ok=function(a,c){if(0===c)this.xg(a);else{var t=Math.sin(c),w=Math.cos(c),d=a.left*t,h=a.top*t,e=a.right*t,t=a.bottom*t,l=a.left*w,g=a.top*w,r=a.right*w,w=a.bottom*w;this.oc=l-h;this.pc=g+d;this.Vc=r-h;this.Wc=g+e;this.zc=r-t;this.Ac=w+e;this.xc=l-t;this.yc=w+d}};k.prototype.offset=function(a,c){this.oc+=a;this.pc+=c;this.Vc+=a;this.Wc+=c;this.zc+=a;this.Ac+=c;this.xc+=a;this.yc+=c;return this};var y=
0,v=0;k.prototype.Ui=function(a){q(this.oc,this.Vc,this.zc,this.xc);a.left=y;a.right=v;q(this.pc,this.Wc,this.Ac,this.yc);a.top=y;a.bottom=v};k.prototype.Gb=function(a,c){var t=this.oc,w=this.pc,d=this.Vc-t,h=this.Wc-w,e=this.zc-t,l=this.Ac-w,g=a-t,r=c-w,n=d*d+h*h,b=d*e+h*l,h=d*g+h*r,f=e*e+l*l,y=e*g+l*r,v=1/(n*f-b*b),d=(f*h-b*y)*v,n=(n*y-b*h)*v;if(0<=d&&0<n&&1>d+n)return!0;d=this.xc-t;h=this.yc-w;n=d*d+h*h;b=d*e+h*l;h=d*g+h*r;v=1/(n*f-b*b);d=(f*h-b*y)*v;n=(n*y-b*h)*v;return 0<=d&&0<n&&1>d+n};pa=k;
qa=function(a,c){for(var t in c)c.hasOwnProperty(t)&&(a[t]=c[t]);return a};ra=function(a,c){var t,w;c=O(c);if(!(0>c||c>=a.length)){t=c;for(w=a.length-1;t<w;t++)a[t]=a[t+1];sa(a,w)}};sa=function(a,c){a.length=c};U=function(a){sa(a,0)};ta=function(a,c){U(a);var t,w;t=0;for(w=c.length;t<w;++t)a[t]=c[t]};ua=function(a,c){a.push.apply(a,c)};va=function(a,c){var t,w;t=0;for(w=a.length;t<w;++t)if(a[t]===c)return t;return-1};ya=function(a,c){var t=va(a,c);-1!==t&&ra(a,t)};za=function(a,c,t){return a<c?c:
a>t?t:a};V=function(a){return a/(180/ma)};Aa=function(a){return 180/ma*a};Ba=function(a){a%=360;0>a&&(a+=360);return a};Ca=function(a){a%=2*ma;0>a&&(a+=2*ma);return a};Da=function(a){return Ba(Aa(a))};Ea=function(a){return Ca(V(a))};Fa=function(a,c,t,w){return Math.atan2(w-c,t-a)};Ga=function(a,c){if(a===c)return 0;var t=Math.sin(a),w=Math.cos(a),d=Math.sin(c),h=Math.cos(c),t=t*d+w*h;return 1<=t?0:-1>=t?ma:Math.acos(t)};Ha=function(a,c,t){var w=Math.sin(a),d=Math.cos(a),h=Math.sin(c),e=Math.cos(c);
return Math.acos(w*h+d*e)>t?0<d*h-w*e?Ca(a+t):Ca(a-t):Ca(c)};Ia=function(a,c){var t=Math.sin(a),d=Math.cos(a),h=Math.sin(c),e=Math.cos(c);return 0>=d*h-t*e};Ja=function(a,c,t,d){a=t-a;c=d-c;return Math.sqrt(a*a+c*c)};La=function(a,c){return!a!==!c};Ma=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Na=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var x=+new Date;Oa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==
typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-x};var h=!1,n=h=!1,T=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),n=/(iphone|ipod|ipad)/i.test(navigator.userAgent),T=window.c2ejecta);var B=!h&&!T&&!n&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.cc()?!1:B?this.Ub.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(B)this.Ub.has(a)||(this.Ub.add(a),this.Bc=!1);else{var c=a.toString(),t=this.items;t?t.hasOwnProperty(c)||(t[c]=a,this.Te++,this.Bc=!1):(this.items={},this.items[c]=a,this.Te=1,this.Bc=!1)}};p.prototype.remove=function(a){if(!this.cc())if(B)this.Ub.has(a)&&(this.Ub["delete"](a),this.Bc=!1);else if(this.items){a=a.toString();var c=
this.items;c.hasOwnProperty(a)&&(delete c[a],this.Te--,this.Bc=!1)}};p.prototype.clear=function(){this.cc()||(B?this.Ub.clear():(this.items=null,this.Te=0),U(this.ne),this.Bc=!0)};p.prototype.cc=function(){return 0===this.count()};p.prototype.count=function(){return B?this.Ub.size:this.Te};var Q=null,C=0;p.prototype.bp=function(){if(!this.Bc){if(B)U(this.ne),Q=this.ne,C=0,this.Ub.forEach(u),Q=null,C=0;else{var a=this.ne;U(a);var c,t=0,d=this.items;if(d)for(c in d)d.hasOwnProperty(c)&&(a[t++]=d[c])}this.Bc=
!0}};p.prototype.zd=function(){this.bp();return this.ne};ba=p;new ba;Pa=function(a,c){B?Qa(a,c.Ub):Ra(a,c.zd())};Qa=function(a,c){var t,d,h,e;d=t=0;for(h=a.length;t<h;++t)e=a[t],c.has(e)||(a[d++]=e);sa(a,d)};Ra=function(a,c){var t,d,h,e;d=t=0;for(h=a.length;t<h;++t)e=a[t],-1===va(c,e)&&(a[d++]=e);sa(a,d)};m.prototype.add=function(a){this.y=a-this.Rg;this.Bg=this.Ga+this.y;this.Rg=this.Bg-this.Ga-this.y;this.Ga=this.Bg};m.prototype.reset=function(){this.Ga=this.Bg=this.y=this.Rg=0};Sa=m;Ta=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};b.prototype.Po=function(a){this.zk=a;this.qg=a.length/2;this.be.length=a.length;this.Sg=this.Tg=-1;this.Wi=0};b.prototype.Zn=function(){return!this.zk.length};b.prototype.ya=function(){for(var a=this.be,c=a[0],t=c,d=a[1],h=d,e,l,g=1,r=this.qg;g<r;++g)l=2*g,e=a[l],l=a[l+1],e<c&&(c=e),e>t&&(t=e),l<d&&(d=l),l>h&&(h=l);this.Qi=c;this.Ri=t;this.Si=d;this.Pi=h};b.prototype.xg=function(a,c,t){this.be.length=8;this.qg=4;var d=this.be;d[0]=a.left-c;d[1]=a.top-t;d[2]=a.right-c;d[3]=a.top-t;d[4]=a.right-
c;d[5]=a.bottom-t;d[6]=a.left-c;d[7]=a.bottom-t;this.Tg=a.right-a.left;this.Sg=a.bottom-a.top;this.ya()};b.prototype.Rl=function(a,c,t){if(this.Tg!==a||this.Sg!==c||this.Wi!==t){this.Tg=a;this.Sg=c;this.Wi=t;var d,h,e,l,g,r=0,n=1,b=this.zk,f=this.be;0!==t&&(r=Math.sin(t),n=Math.cos(t));t=0;for(e=this.qg;t<e;t++)d=2*t,h=d+1,l=b[d]*a,g=b[h]*c,f[d]=l*n-g*r,f[h]=g*n+l*r;this.ya()}};b.prototype.Gb=function(a,c){var t=this.be;if(a===t[0]&&c===t[1])return!0;var d,h,e,l=this.qg,g=this.Qi-110,r=this.Si-101,
n=this.Ri+131,b=this.Pi+120,f,y,v=0,k=0;for(d=0;d<l;d++)h=2*d,e=(d+1)%l*2,f=t[h],h=t[h+1],y=t[e],e=t[e+1],oa(g,r,a,c,f,h,y,e)&&v++,oa(n,b,a,c,f,h,y,e)&&k++;return 1===v%2||1===k%2};Ua=b;a.prototype.Hc=function(a,c,t){var d;d=this.cells[a];return d?(d=d[c])?d:t?(d=r(this,a,c),this.cells[a][c]=d):null:t?(d=r(this,a,c),this.cells[a]={},this.cells[a][c]=d):null};a.prototype.Ha=function(a){return O(a/this.Xg)};a.prototype.Ia=function(a){return O(a/this.Wg)};a.prototype.update=function(a,c,t){var d,h,e,
l,g;if(c)for(d=c.left,h=c.right;d<=h;++d)for(e=c.top,l=c.bottom;e<=l;++e)if(!t||!t.Gb(d,e))if(g=this.Hc(d,e,!1))g.remove(a),g.cc()&&(g.na.clear(),1E3>W.length&&W.push(g),this.cells[d][e]=null);if(t)for(d=t.left,h=t.right;d<=h;++d)for(e=t.top,l=t.bottom;e<=l;++e)c&&c.Gb(d,e)||this.Hc(d,e,!0).Ah(a)};a.prototype.Bk=function(a,c){var t,d,h,e,l,g;t=this.Ha(a.left);h=this.Ia(a.top);d=this.Ha(a.right);for(l=this.Ia(a.bottom);t<=d;++t)for(e=h;e<=l;++e)(g=this.Hc(t,e,!1))&&g.dump(c)};Va=a;e.prototype.Hc=function(a,
c,t){var w;w=this.cells[a];return w?(w=w[c])?w:t?(w=d(this,a,c),this.cells[a][c]=w):null:t?(w=d(this,a,c),this.cells[a]={},this.cells[a][c]=w):null};e.prototype.Ha=function(a){return O(a/this.Xg)};e.prototype.Ia=function(a){return O(a/this.Wg)};e.prototype.update=function(a,c,t){var d,h,e,l,g;if(c)for(d=c.left,h=c.right;d<=h;++d)for(e=c.top,l=c.bottom;e<=l;++e)if(!t||!t.Gb(d,e))if(g=this.Hc(d,e,!1))g.remove(a),g.cc()&&(g.reset(),1E3>A.length&&A.push(g),this.cells[d][e]=null);if(t)for(d=t.left,h=t.right;d<=
h;++d)for(e=t.top,l=t.bottom;e<=l;++e)c&&c.Gb(d,e)||this.Hc(d,e,!0).Ah(a)};e.prototype.Bk=function(a,c,t,d,e){var h,l;a=this.Ha(a);c=this.Ia(c);t=this.Ha(t);for(h=this.Ia(d);a<=t;++a)for(d=c;d<=h;++d)(l=this.Hc(a,d,!1))&&l.dump(e)};e.prototype.eo=function(a){var c,t,d,e,h;c=a.left;d=a.top;t=a.right;for(e=a.bottom;c<=t;++c)for(a=d;a<=e;++a)if(h=this.Hc(c,a,!1))h.Rd=!1};Wa=e;var W=[];c.prototype.cc=function(){return this.na.cc()};c.prototype.Ah=function(a){this.na.add(a)};c.prototype.remove=function(a){this.na.remove(a)};
c.prototype.dump=function(a){ua(a,this.na.zd())};aa=c;var A=[];g.prototype.cc=function(){if(!this.na.length)return!0;if(this.na.length>this.Rb.count())return!1;this.lh();return!0};g.prototype.Ah=function(a){this.Rb.contains(a)?(this.Rb.remove(a),this.Rb.cc()&&(this.re=!1)):this.na.length?(this.na[this.na.length-1].Nb()>a.Nb()&&(this.Rd=!1),this.na.push(a)):(this.na.push(a),this.Rd=!0)};g.prototype.remove=function(a){this.Rb.add(a);this.re=!0;30<=this.Rb.count()&&this.lh()};g.prototype.lh=function(){this.re&&
(this.Rb.count()===this.na.length?this.reset():(Pa(this.na,this.Rb),this.Rb.clear(),this.re=!1))};g.prototype.ym=function(){this.Rd||(this.na.sort(l),this.Rd=!0)};g.prototype.reset=function(){U(this.na);this.Rd=!0;this.Rb.clear();this.re=!1};g.prototype.dump=function(a){this.lh();this.ym();this.na.length&&a.push(this.na)};ca=g;var H="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Xa=function(a){return 0>=a||11<=a?"source-over":
H[a-1]};Ya=function(a,c,t){if(t)switch(a.Ea=t.ONE,a.Ca=t.ONE_MINUS_SRC_ALPHA,c){case 1:a.Ea=t.ONE;a.Ca=t.ONE;break;case 3:a.Ea=t.ONE;a.Ca=t.ZERO;break;case 4:a.Ea=t.ONE_MINUS_DST_ALPHA;a.Ca=t.ONE;break;case 5:a.Ea=t.DST_ALPHA;a.Ca=t.ZERO;break;case 6:a.Ea=t.ZERO;a.Ca=t.SRC_ALPHA;break;case 7:a.Ea=t.ONE_MINUS_DST_ALPHA;a.Ca=t.ZERO;break;case 8:a.Ea=t.ZERO;a.Ca=t.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ea=t.DST_ALPHA;a.Ca=t.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ea=t.ONE_MINUS_DST_ALPHA,a.Ca=t.SRC_ALPHA}};
Za=function(a){return Math.round(1E6*a)/1E6};$a=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};ab=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||$a(a.tagName,"canvas")?!0:!1}})();var Rb="undefined"!==typeof Float32Array?Float32Array:Array;function Sb(f){var k=new Rb(3);f&&(k[0]=f[0],k[1]=f[1],k[2]=f[2]);return k}
function Tb(f){var k=new Rb(16);f&&(k[0]=f[0],k[1]=f[1],k[2]=f[2],k[3]=f[3],k[4]=f[4],k[5]=f[5],k[6]=f[6],k[7]=f[7],k[8]=f[8],k[9]=f[9],k[10]=f[10],k[11]=f[11],k[12]=f[12],k[13]=f[13],k[14]=f[14],k[15]=f[15]);return k}function Ub(f,k){k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15]}
function Vb(f,k){var q=k[0],p=k[1];k=k[2];f[0]*=q;f[1]*=q;f[2]*=q;f[3]*=q;f[4]*=p;f[5]*=p;f[6]*=p;f[7]*=p;f[8]*=k;f[9]*=k;f[10]*=k;f[11]*=k}
function Wb(f,k,q,p){p||(p=Tb());var u,m,b,a,e,r,c,d,g=f[0],l=f[1];f=f[2];m=q[0];b=q[1];u=q[2];q=k[1];r=k[2];g===k[0]&&l===q&&f===r?(f=p,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(q=g-k[0],r=l-k[1],c=f-k[2],d=1/Math.sqrt(q*q+r*r+c*c),q*=d,r*=d,c*=d,k=b*c-u*r,u=u*q-m*c,m=m*r-b*q,(d=Math.sqrt(k*k+u*u+m*m))?(d=1/d,k*=d,u*=d,m*=d):m=u=k=0,b=r*m-c*u,a=c*k-q*m,e=q*u-r*k,(d=Math.sqrt(b*b+a*a+e*e))?(d=1/d,b*=d,a*=d,e*=d):e=a=b=0,
p[0]=k,p[1]=b,p[2]=q,p[3]=0,p[4]=u,p[5]=a,p[6]=r,p[7]=0,p[8]=m,p[9]=e,p[10]=c,p[11]=0,p[12]=-(k*g+u*l+m*f),p[13]=-(b*g+a*l+e*f),p[14]=-(q*g+r*l+c*f),p[15]=1)}
(function(){function f(a,e,r){this.md=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.M=!!r;this.Tf=this.Ne=!1;this.dh=0;this.Lg=1;this.Di=1E3;this.hp=(this.Di-this.Lg)/32768;this.Ug=Sb([0,0,100]);this.Rj=Sb([0,0,0]);this.hl=Sb([0,1,0]);this.wf=Sb([1,1,1]);this.wm=!0;this.lg=Tb();this.cb=Tb();this.Mh=Tb();this.bh=Tb();this.i=a;this.version=0===this.i.getParameter(this.i.VERSION).indexOf("WebGL 2")?2:1;this.xj()}function k(a,e,r){this.i=a;this.of=
e;this.name=r;this.jb=a.getAttribLocation(e,"aPos");this.Qc=a.getAttribLocation(e,"aTex");this.Pj=a.getUniformLocation(e,"matP");this.hg=a.getUniformLocation(e,"matMV");this.Wd=a.getUniformLocation(e,"opacity");this.Qh=a.getUniformLocation(e,"colorFill");this.Qj=a.getUniformLocation(e,"samplerFront");this.Ze=a.getUniformLocation(e,"samplerBack");this.td=a.getUniformLocation(e,"destStart");this.sd=a.getUniformLocation(e,"destEnd");this.af=a.getUniformLocation(e,"seconds");this.Sh=a.getUniformLocation(e,
"pixelWidth");this.Rh=a.getUniformLocation(e,"pixelHeight");this.Ye=a.getUniformLocation(e,"layerScale");this.Xe=a.getUniformLocation(e,"layerAngle");this.bf=a.getUniformLocation(e,"viewOrigin");this.$e=a.getUniformLocation(e,"scrollPos");this.Mn=!!(this.Sh||this.Rh||this.af||this.Ze||this.td||this.sd||this.Ye||this.Xe||this.bf||this.$e);this.Zj=this.$j=-999;this.kg=1;this.Vj=this.Uj=0;this.Xj=this.Tj=this.Sj=1;this.ck=this.bk=this.ak=this.ek=this.dk=this.Wj=0;this.Lh=[];this.Yj=Tb();this.Wd&&a.uniform1f(this.Wd,
1);this.Qh&&a.uniform4f(this.Qh,1,1,1,1);this.Qj&&a.uniform1i(this.Qj,0);this.Ze&&a.uniform1i(this.Ze,1);this.td&&a.uniform2f(this.td,0,0);this.sd&&a.uniform2f(this.sd,1,1);this.Ye&&a.uniform1f(this.Ye,1);this.Xe&&a.uniform1f(this.Xe,0);this.bf&&a.uniform2f(this.bf,0,0);this.$e&&a.uniform2f(this.$e,0,0);this.af&&a.uniform1f(this.af,0);this.hd=!1}function q(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&
a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function p(a,e){this.type=a;this.j=e;this.i=e.i;this.Ob=this.Fa=this.sk=0;this.r=this.qb=null;this.Pk=[]}var u=Tb();f.prototype.xj=function(){var a=this.i,e;this.Kj=1;this.pd=this.od=null;this.Bf=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.M?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Lj=a.ONE;this.Jj=a.ONE_MINUS_SRC_ALPHA;this.Jg=new Float32Array(8E3*(this.M?3:2));this.Cg=new Float32Array(16E3);this.vk=new Float32Array(32E3);this.Zh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Zh);a.bufferData(a.ARRAY_BUFFER,this.vk.byteLength,a.DYNAMIC_DRAW);this.vf=Array(4);this.rf=Array(4);for(e=0;4>e;e++)this.vf[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vf[e]),a.bufferData(a.ARRAY_BUFFER,this.Jg.byteLength,a.DYNAMIC_DRAW),this.rf[e]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.rf[e]),a.bufferData(a.ARRAY_BUFFER,this.Cg.byteLength,a.DYNAMIC_DRAW);this.Yb=0;this.On=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.On);for(var r=new Uint16Array(12E3),c=e=0;12E3>e;)r[e++]=c,r[e++]=c+1,r[e++]=c+2,r[e++]=c,r[e++]=c+2,r[e++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,r,a.STATIC_DRAW);this.$h=this.je=this.rc=0;this.X=[];e=this.M?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";r=this.ye({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.X.push(r);r=this.ye({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.X.push(r);r=this.ye({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.X.push(r);r=this.ye({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.X.push(r);for(var d in Xb)Xb.hasOwnProperty(d)&&this.X.push(this.ye(Xb[d],e,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.wc=[];this.Xb=0;this.Da=!1;this.bj=this.Ue=-1;this.Kd=null;this.kh=a.createFramebuffer();this.Df=this.rg=null;this.Oi=!1;this.M&&(this.Df=a.createRenderbuffer());this.Uc=Sb([0,0,0]);this.fk=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.fk&&(this.fk=2048);this.Ka(0)};k.prototype.yi=function(a){q(this.Yj,a)||(Ub(a,this.Yj),this.i.uniformMatrix4fv(this.hg,
!1,a))};f.prototype.ye=function(a,e,r){var c=this.i,d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,a.src);c.compileShader(d);if(!c.getShaderParameter(d,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(d),c.deleteShader(d),Error("error compiling fragment shader: "+a);var g=c.createShader(c.VERTEX_SHADER);c.shaderSource(g,e);c.compileShader(g);if(!c.getShaderParameter(g,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(g),c.deleteShader(d),c.deleteShader(g),Error("error compiling vertex shader: "+a);e=
c.createProgram();c.attachShader(e,d);c.attachShader(e,g);c.linkProgram(e);if(!c.getProgramParameter(e,c.LINK_STATUS))throw a=c.getProgramInfoLog(e),c.deleteShader(d),c.deleteShader(g),c.deleteProgram(e),Error("error linking shader program: "+a);c.useProgram(e);c.deleteShader(d);c.deleteShader(g);d=new k(c,e,r);d.ih=a.ih||0;d.jh=a.jh||0;d.aj=!!a.aj;d.Ab=!!a.Ab;d.Ki=!!a.Ki;d.u=a.u||[];a=0;for(g=d.u.length;a<g;a++)d.u[a][1]=c.getUniformLocation(e,d.u[a][0]),d.Lh.push(0),c.uniform1f(d.u[a][1],0);return d};
f.prototype.uh=function(a){var e,r;e=0;for(r=this.X.length;e<r;e++)if(this.X[e].name===a)return e;return-1};f.prototype.yk=function(a,e,r){var c=this.cb,d=this.lg,g=[0,0,0,0,0,0,0,0];g[0]=c[0]*a+c[4]*e+c[12];g[1]=c[1]*a+c[5]*e+c[13];g[2]=c[2]*a+c[6]*e+c[14];g[3]=c[3]*a+c[7]*e+c[15];g[4]=d[0]*g[0]+d[4]*g[1]+d[8]*g[2]+d[12]*g[3];g[5]=d[1]*g[0]+d[5]*g[1]+d[9]*g[2]+d[13]*g[3];g[6]=d[2]*g[0]+d[6]*g[1]+d[10]*g[2]+d[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],r[0]=(.5*g[4]+
.5)*this.width,r[1]=(.5*g[5]+.5)*this.height)};f.prototype.xd=function(a,e,r){if(this.width!==a||this.height!==e||r){this.cd();r=this.i;this.width=a;this.height=e;r.viewport(0,0,a,e);Wb(this.Ug,this.Rj,this.hl,this.cb);if(this.M){var c=-a/2;a=a/2;var d=e/2;e=-e/2;var g=this.Lg,l=this.Di,b=this.lg;b||(b=Tb());var f=a-c,k=e-d,h=l-g;b[0]=2/f;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/k;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/h;b[11]=0;b[12]=-(c+a)/f;b[13]=-(e+d)/k;b[14]=-(l+g)/h;b[15]=1;this.wf[0]=1;this.wf[1]=
1}else e=a/e,c=this.Lg,a=this.Di,b=this.lg,l=c*Math.tan(45*Math.PI/360),e*=l,d=-e,g=-l,b||(b=Tb()),f=e-d,k=l-g,h=a-c,b[0]=2*c/f,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*c/k,b[6]=0,b[7]=0,b[8]=(e+d)/f,b[9]=(l+g)/k,b[10]=-(a+c)/h,b[11]=-1,b[12]=0,b[13]=0,b[14]=-(a*c*2)/h,b[15]=0,c=[0,0],a=[0,0],this.yk(0,0,c),this.yk(1,1,a),this.wf[0]=1/(a[0]-c[0]),this.wf[1]=-1/(a[1]-c[1]);c=0;for(a=this.X.length;c<a;c++)d=this.X[c],d.hd=!1,d.Pj&&(r.useProgram(d.of),r.uniformMatrix4fv(d.Pj,!1,this.lg));r.useProgram(this.X[this.Ue].of);
r.bindTexture(r.TEXTURE_2D,null);r.activeTexture(r.TEXTURE1);r.bindTexture(r.TEXTURE_2D,null);r.activeTexture(r.TEXTURE0);this.pd=this.od=null;this.Df&&(r.bindFramebuffer(r.FRAMEBUFFER,this.kh),r.bindRenderbuffer(r.RENDERBUFFER,this.Df),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,this.width,this.height),this.Oi||(r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,this.Df),this.Oi=!0),r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),
this.rg=null)}};f.prototype.mb=function(){Wb(this.Ug,this.Rj,this.hl,this.cb);Vb(this.cb,this.wf)};f.prototype.translate=function(a,e){if(0!==a||0!==e){this.Uc[0]=a;this.Uc[1]=e;this.Uc[2]=0;var b=this.cb,c=this.Uc,d=c[0],g=c[1],c=c[2];b[12]=b[0]*d+b[4]*g+b[8]*c+b[12];b[13]=b[1]*d+b[5]*g+b[9]*c+b[13];b[14]=b[2]*d+b[6]*g+b[10]*c+b[14];b[15]=b[3]*d+b[7]*g+b[11]*c+b[15]}};f.prototype.scale=function(a,e){if(1!==a||1!==e)this.Uc[0]=a,this.Uc[1]=e,this.Uc[2]=1,Vb(this.cb,this.Uc)};f.prototype.tg=function(a){if(0!==
a){var e=this.cb,b,c=Math.sin(a);a=Math.cos(a);var d=e[0],g=e[1],l=e[2],f=e[3],k=e[4],x=e[5],h=e[6],n=e[7];b?e!==b&&(b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=d*a+k*c;b[1]=g*a+x*c;b[2]=l*a+h*c;b[3]=f*a+n*c;b[4]=d*-c+k*a;b[5]=g*-c+x*a;b[6]=l*-c+h*a;b[7]=f*-c+n*a}};f.prototype.fb=function(){if(!q(this.Mh,this.cb)){var a=this.Ra();a.type=5;a.r?Ub(this.cb,a.r):a.r=Tb(this.cb);Ub(this.cb,this.Mh);this.Da=!1}};f.prototype.vg=function(a){this.M&&
(32760<a&&(a=32760),this.dh=this.Ug[2]-this.Lg-a*this.hp)};p.prototype.gm=function(){var a=this.i,e=this.j;0!==this.Fa?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,e.kh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.Tf=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.Tf=!1)};p.prototype.km=function(){this.i.bindTexture(this.i.TEXTURE_2D,
this.qb)};p.prototype.lm=function(){var a=this.i;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.qb);a.activeTexture(a.TEXTURE0)};p.prototype.hm=function(){var a=this.sk,e=this.j;e.Bf=a;e=e.Kd;e.Wd&&e.kg!==a&&(e.kg=a,this.i.uniform1f(e.Wd,a))};p.prototype.am=function(){this.i.drawElements(this.i.TRIANGLES,this.Ob,this.i.UNSIGNED_SHORT,this.Fa)};p.prototype.dm=function(){this.i.blendFunc(this.Fa,this.Ob)};p.prototype.mm=function(){var a,e,b,c=this.j.X,d=this.j.bj;a=0;for(e=c.length;a<e;a++)b=
c[a],a===d&&b.hg?(b.yi(this.r),b.hd=!0):b.hd=!1;Ub(this.r,this.j.bh)};p.prototype.cm=function(){var a=this.i,e=this.j;this.qb?(e.pd===this.qb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.pd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.kh),e.Tf||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.qb,0)):(e.M||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.Yl=
function(){var a=this.i,e=this.Fa;0===e?(a.clearColor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clear(a.COLOR_BUFFER_BIT)):1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.fm=function(){var a=this.i;0!==this.Fa?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.$l=function(){var a=this.i,e=this.j;e.M&&a.disable(a.DEPTH_TEST);var b=e.X[1];
a.useProgram(b.of);!b.hd&&b.hg&&(b.yi(e.bh),b.hd=!0);a.enableVertexAttribArray(b.jb);a.bindBuffer(a.ARRAY_BUFFER,e.Zh);a.vertexAttribPointer(b.jb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Fa/4,this.Ob);b=e.Kd;a.useProgram(b.of);0<=b.jb&&(a.enableVertexAttribArray(b.jb),a.bindBuffer(a.ARRAY_BUFFER,e.vf[e.Yb]),a.vertexAttribPointer(b.jb,e.M?3:2,a.FLOAT,!1,0,0));0<=b.Qc&&(a.enableVertexAttribArray(b.Qc),a.bindBuffer(a.ARRAY_BUFFER,e.rf[e.Yb]),a.vertexAttribPointer(b.Qc,2,a.FLOAT,!1,0,0));e.M&&a.enable(a.DEPTH_TEST)};
p.prototype.im=function(){var a=this.i,e=this.j,b=e.X[this.Fa];e.bj=this.Fa;e.Kd=b;a.useProgram(b.of);!b.hd&&b.hg&&(b.yi(e.bh),b.hd=!0);b.Wd&&b.kg!==e.Bf&&(b.kg=e.Bf,a.uniform1f(b.Wd,e.Bf));0<=b.jb&&(a.enableVertexAttribArray(b.jb),a.bindBuffer(a.ARRAY_BUFFER,e.vf[e.Yb]),a.vertexAttribPointer(b.jb,e.M?3:2,a.FLOAT,!1,0,0));0<=b.Qc&&(a.enableVertexAttribArray(b.Qc),a.bindBuffer(a.ARRAY_BUFFER,e.rf[e.Yb]),a.vertexAttribPointer(b.Qc,2,a.FLOAT,!1,0,0))};p.prototype.em=function(){var a=this.r;this.i.uniform4f(this.j.Kd.Qh,
a[0],a[1],a[2],a[3])};p.prototype.jm=function(){var a,e,b=this.j.Kd,c=this.i;a=this.r;b.Ze&&this.j.pd!==this.qb&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.qb),this.j.pd=this.qb,c.activeTexture(c.TEXTURE0));var d=a[0];b.Sh&&d!==b.$j&&(b.$j=d,c.uniform1f(b.Sh,d));d=a[1];b.Rh&&d!==b.Zj&&(b.Zj=d,c.uniform1f(b.Rh,d));d=a[2];e=a[3];!b.td||d===b.Uj&&e===b.Vj||(b.Uj=d,b.Vj=e,c.uniform2f(b.td,d,e));d=a[4];e=a[5];!b.sd||d===b.Sj&&e===b.Tj||(b.Sj=d,b.Tj=e,c.uniform2f(b.sd,d,e));d=a[6];b.Ye&&
d!==b.Xj&&(b.Xj=d,c.uniform1f(b.Ye,d));d=a[7];b.Xe&&d!==b.Wj&&(b.Wj=d,c.uniform1f(b.Xe,d));d=a[8];e=a[9];!b.bf||d===b.dk&&e===b.ek||(b.dk=d,b.ek=e,c.uniform2f(b.bf,d,e));d=a[10];e=a[11];!b.$e||d===b.ak&&e===b.bk||(b.ak=d,b.bk=e,c.uniform2f(b.$e,d,e));d=a[12];b.af&&d!==b.ck&&(b.ck=d,c.uniform1f(b.af,d));if(b.u.length)for(a=0,e=b.u.length;a<e;a++)d=this.Pk[a],d!==b.Lh[a]&&(b.Lh[a]=d,c.uniform1f(b.u[a][1],d))};f.prototype.Ra=function(){this.Xb===this.wc.length&&this.wc.push(new p(0,this));return this.wc[this.Xb++]};
f.prototype.cd=function(){if(0!==this.Xb&&!this.i.isContextLost()){var a=this.i;0<this.$h&&(a.bindBuffer(a.ARRAY_BUFFER,this.Zh),a.bufferSubData(a.ARRAY_BUFFER,0,this.vk.subarray(0,this.$h)),e&&0<=e.jb&&"<point>"===e.name&&a.vertexAttribPointer(e.jb,4,a.FLOAT,!1,0,0));if(0<this.rc){var e=this.Kd;a.bindBuffer(a.ARRAY_BUFFER,this.vf[this.Yb]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Jg.subarray(0,this.rc));e&&0<=e.jb&&"<point>"!==e.name&&a.vertexAttribPointer(e.jb,this.M?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,
this.rf[this.Yb]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Cg.subarray(0,this.je));e&&0<=e.Qc&&"<point>"!==e.name&&a.vertexAttribPointer(e.Qc,2,a.FLOAT,!1,0,0)}for(var b,a=0,e=this.Xb;a<e;a++)switch(b=this.wc[a],b.type){case 1:b.am();break;case 2:b.km();break;case 3:b.hm();break;case 4:b.dm();break;case 5:b.mm();break;case 6:b.cm();break;case 7:b.Yl();break;case 8:b.$l();break;case 9:b.im();break;case 10:b.jm();break;case 11:b.lm();break;case 12:b.em();break;case 13:b.fm();break;case 14:b.gm()}this.$h=
this.je=this.rc=this.Xb=0;this.Tf=this.Da=!1;this.Yb++;4<=this.Yb&&(this.Yb=0)}};f.prototype.mf=function(a){if(a!==this.Kj&&!this.Ne){var b=this.Ra();b.type=3;this.Kj=b.sk=a;this.Da=!1}};f.prototype.ob=function(a){if(a!==this.od){var b=this.Ra();b.type=2;this.od=b.qb=a;this.Da=!1}};f.prototype.Sc=function(a,b){if((a!==this.Lj||b!==this.Jj)&&!this.Ne){var f=this.Ra();f.type=4;f.Fa=a;f.Ob=b;this.Lj=a;this.Jj=b;this.Da=!1}};f.prototype.Jk=function(){this.Sc(this.i.ONE,this.i.ONE_MINUS_SRC_ALPHA)};f.prototype.fi=
function(a,b,f,c,d,g,l,y){15992<=this.rc&&this.cd();var k=this.rc,x=this.je,h=this.Jg,n=this.Cg,T=this.dh;if(this.Da)this.wc[this.Xb-1].Ob+=6;else{var m=this.Ra();m.type=1;m.Fa=this.M?k:k/2*3;m.Ob=6;this.Da=!0}this.M?(h[k++]=a,h[k++]=b,h[k++]=T,h[k++]=f,h[k++]=c,h[k++]=T,h[k++]=d,h[k++]=g,h[k++]=T,h[k++]=l,h[k++]=y,h[k++]=T):(h[k++]=a,h[k++]=b,h[k++]=f,h[k++]=c,h[k++]=d,h[k++]=g,h[k++]=l,h[k++]=y);n[x++]=0;n[x++]=0;n[x++]=1;n[x++]=0;n[x++]=1;n[x++]=1;n[x++]=0;n[x++]=1;this.rc=k;this.je=x};f.prototype.de=
function(a,b,f,c,d,g,l,k,v){15992<=this.rc&&this.cd();var x=this.rc,h=this.je,n=this.Jg,T=this.Cg,m=this.dh;if(this.Da)this.wc[this.Xb-1].Ob+=6;else{var q=this.Ra();q.type=1;q.Fa=this.M?x:x/2*3;q.Ob=6;this.Da=!0}var q=v.left,p=v.top,u=v.right;v=v.bottom;this.M?(n[x++]=a,n[x++]=b,n[x++]=m,n[x++]=f,n[x++]=c,n[x++]=m,n[x++]=d,n[x++]=g,n[x++]=m,n[x++]=l,n[x++]=k,n[x++]=m):(n[x++]=a,n[x++]=b,n[x++]=f,n[x++]=c,n[x++]=d,n[x++]=g,n[x++]=l,n[x++]=k);T[h++]=q;T[h++]=p;T[h++]=u;T[h++]=p;T[h++]=u;T[h++]=v;T[h++]=
q;T[h++]=v;this.rc=x;this.je=h};f.prototype.Ka=function(a){if(this.Ue!==a){if(!this.X[a]){if(0===this.Ue)return;a=0}var b=this.Ra();b.type=9;this.Ue=b.Fa=a;this.Da=!1}};f.prototype.jf=function(a){a=this.X[a];return!(!a.td&&!a.sd)};f.prototype.bi=function(a){a=this.X[a];return!!(a.td||a.sd||a.aj)};f.prototype.ai=function(a){return this.X[a].Ab};f.prototype.yo=function(a){a=this.X[a];return 0!==a.ih||0!==a.jh};f.prototype.tn=function(a){return this.X[a].ih};f.prototype.un=function(a){return this.X[a].jh};
f.prototype.vn=function(a,b){return this.X[a].u[b][2]};f.prototype.pg=function(a){return this.X[a].Ki};f.prototype.he=function(a,b,f,c,d,g,l,k,v,x,h,n,m,q,p){var C=this.X[this.Ue],u,A;if(C.Mn||p.length){u=this.Ra();u.type=10;u.r?Ub(this.cb,u.r):u.r=Tb();A=u.r;A[0]=b;A[1]=f;A[2]=c;A[3]=d;A[4]=g;A[5]=l;A[6]=k;A[7]=v;A[8]=x;A[9]=h;A[10]=n;A[11]=m;A[12]=q;C.Ze?u.qb=a:u.qb=null;if(p.length)for(f=u.Pk,f.length=p.length,a=0,b=p.length;a<b;a++)f[a]=p[a];this.Da=!1}};f.prototype.clear=function(a,b,f,c){var d=
this.Ra();d.type=7;d.Fa=0;d.r||(d.r=Tb());d.r[0]=a;d.r[1]=b;d.r[2]=f;d.r[3]=c;this.Da=!1};f.prototype.clearRect=function(a,b,f,c){if(!(0>f||0>c)){var d=this.Ra();d.type=7;d.Fa=1;d.r||(d.r=Tb());d.r[0]=a;d.r[1]=b;d.r[2]=f;d.r[3]=c;this.Da=!1}};f.prototype.Mk=function(a){if(this.M&&(a=!!a,this.Ne!==a)){var b=this.Ra();b.type=14;b.Fa=a?1:0;this.Da=!1;this.Ne=a;this.rg=null;this.Ne?this.Ka(2):this.Ka(0)}};f.prototype.Lk=function(a){if(this.M){var b=this.Ra();b.type=13;b.Fa=a?1:0;this.Da=!1}};f.prototype.lj=
function(){Ub(this.Mh,u);this.mb();this.fb();var a=this.width/2,b=this.height/2;this.fi(-a,b,a,b,a,-b,-a,-b);Ub(u,this.cb);this.fb()};f.prototype.Kk=function(a,b,f){this.Ka(3);var c=this.Ra();c.type=12;c.r||(c.r=Tb());c.r[0]=a;c.r[1]=b;c.r[2]=f;c.r[3]=1;this.Da=!1};f.prototype.Mo=function(){this.Ka(0)};f.prototype.Bo=function(){this.Ka(2)};f.prototype.xo=function(){this.cd();this.i.flush()};var m=[],b={};f.prototype.Tl=function(){U(m);b={}};f.prototype.Xa=function(a,b,f,c){this.cd();var d=this.i;
this.md&&(c=!1);var g=d.createTexture();d.bindTexture(d.TEXTURE_2D,g);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,b,0,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,null);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,f?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,f?d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,null);this.od=null;g.Jd=a;g.Id=b;m.push(g);
return g};f.prototype.fp=function(a,b,f){this.cd();var c=this.i;this.md&&(f=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,f?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}c.bindTexture(c.TEXTURE_2D,null);this.od=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Vi&&1<a.Vi?a.Vi--:(this.cd(),a===this.od&&(this.i.bindTexture(this.i.TEXTURE_2D,
null),this.od=null),a===this.pd&&(this.i.activeTexture(this.i.TEXTURE1),this.i.bindTexture(this.i.TEXTURE_2D,null),this.i.activeTexture(this.i.TEXTURE0),this.pd=null),ya(m,a),"undefined"!==typeof a.Ql&&delete b[a.Ql],this.i.deleteTexture(a)))};f.prototype.nb=function(a){if(a!==this.rg){var b=this.Ra();b.type=6;this.rg=b.qb=a;this.Da=!1}};bb=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Kc=(this.Dh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.ld=!!a.dc;this.Sn="undefined"!==typeof window.AppMobi||
this.ld;this.yb=!!window.c2cocoonjs;this.Pb=!!window.c2ejecta;this.yb&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Pb&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.ab=this.ld||this.yb||this.Pb;this.Uf=
/edge\//i.test(navigator.userAgent);this.md=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Uf;this.Dj=/tizen/i.test(navigator.userAgent);this.Bj=/android/i.test(navigator.userAgent)&&!this.Dj&&!this.md&&!this.Uf;this.Ij=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.md&&!this.Uf;this.$n=/ipad/i.test(navigator.userAgent);this.Kh=this.Ij||this.$n||this.Pb;this.Un=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.md&&!this.Uf;this.Rn=/amazonwebappplatform/i.test(navigator.userAgent);this.Vn=/firefox/i.test(navigator.userAgent);this.Vf="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Gj=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Yn=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Re=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ih=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Fj=!!window.cr_windows10;this.Xn=this.Gj||this.Yn||this.Ih||this.Fj;this.Tn=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Cj=this.Bj&&!this.Un&&!this.Dh&&!this.Vn&&!this.Rn&&!this.ab;this.devicePixelRatio=1;this.nd=this.Kc||this.Dh||this.Sn||this.yb||this.Bj||this.Kh||this.Re||this.Ih||this.Tn||this.Dj||this.Pb;this.nd||
(this.nd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Ej=!!(this.Kh&&this.Kc&&window.webkit);"undefined"===typeof cr_is_preview||this.Vf||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Vf=!0);this.canvas=a;this.Xi=document.getElementById("c2canvasdiv");this.j=this.i=null;this.vh="(unavailable)";this.M=!1;this.bd=0;this.U=null;this.If=!1;this.pk=this.qk=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.ld&&(window.c2runtime=this);this.Vf&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Cj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=
a.width;this.height=a.height;this.n=this.width;this.m=this.height;this.Af=this.width;this.Ae=this.height;this.Ud=window.innerWidth;this.Td=window.innerHeight;this.O=!0;this.Qe=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.g=[];this.T=[];this.Oh={};this.zb=[];this.hh={};this.$b=[];this.ll=[];this.Fg=[];this.Il=[];this.Jl=[];this.$c={};this.Fh=this.Ic=!1;this.ec=0;this.Eh=this.Hh=!1;this.Hb=[];this.Oe=!1;this.eg=this.ni="";this.ga=null;this.fc="";this.qf=this.Sk=
!1;this.Hf=[];this.ad=this.Ld=0;this.hk=30;this.ah=this.cf=0;this.sf=1;this.ib=new Sa;this.Kg=new Sa;this.ng=this.Lf=this.Ff=this.nc=this.rd=this.mh=this.Zf=0;this.Yg=null;this.dj=[];this.gh=[];this.Ef=-1;this.Th=[[]];this.ti=this.ig=0;this.di(null);this.Ge=this.lk=this.ef=0;this.Ag=[];this.qi=this.gi=-1;this.Yf=!0;this.gg=0;this.Pe=!1;this.Ro=0;this.ue=null;this.nk=new ba;this.Wh=new ba;this.ok=new ba;this.Dk=[];new Ua([]);new Ua([]);this.Fd=[];this.Pf={};this.Dc={};this.vc={};this.oe={};this.Ti=
{};this.Oj=this.dg=this.aa=this.ea=this.Nj=this.bg=this.J=null;this.me=this.Jh=!1;this.nh=[null,null];this.gd=0;this.ic={};this.pf=this.Oc=null;this.Tk="";this.mg=[];this.Ao()}}function k(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function q(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(a,c,d,b){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=p;h.onerror=b;h.onsuccess=function(h){h=h.target.result;
h.onerror=b;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}catch(l){b(l)}}function m(a,c,d){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=d;b.onsuccess=function(b){b=b.target.result;b.onerror=d;var h=b.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?c(h.result.data):c(null)}}}catch(h){d(h)}}function b(){z("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?
window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,d={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].vq||"spriteCreatedDestroyCallback"!==c&&(d[c]=a[c]);return d}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Ao=function(){var a=this;if(this.Ej)this.dn(function(c){a.We(JSON.parse(c))},function(){alert("Error fetching data.js")});
else{var c;this.Re?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var d="data.js";if(this.Gj||this.Re||this.Ih||this.Fj)d="data.json";c.open("GET",d,!0);var b=!1;if(!this.ab&&"response"in c&&"responseType"in c)try{c.responseType="json",b="json"===c.responseType}catch(h){b=!1}if(!b&&"responseType"in c)try{c.responseType="text"}catch(l){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.Re?c.onreadystatechange=function(){4===c.readyState&&
a.We(JSON.parse(c.responseText))}:(c.onload=function(){if(b)a.We(c.response);else if(a.Pb){var d=c.responseText,d=d.substr(d.indexOf("{"));a.We(JSON.parse(d))}else a.We(JSON.parse(c.responseText))},c.onerror=function(a){da("Error requesting "+d+":");da(a)});c.send()}};f.prototype.Pn=function(){var a=this,c,d,b,h,l,e,g,f,n;this.Pd=(!this.ab||this.Pb||this.Kc)&&this.dp&&!this.Cj;0===this.Na&&this.Kh&&(this.Pd=!1);this.devicePixelRatio=this.Pd?window.devicePixelRatio||window.webkitDevicePixelRatio||
window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.za();0<this.Na&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.jo();z("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.xj();a.j.xd(a.j.width,a.j.height,!0);a.ea=null;a.aa=null;a.nh[0]=null;a.nh[1]=null;a.ko();a.O=!0;z("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);try{this.vm&&(this.yb||this.Pb||!this.ab)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.i=this.canvas.getContext("webgl2",c)||this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c))}catch(k){}if(this.i){if(c=this.i.getExtension("WEBGL_debug_renderer_info"))this.vh=this.i.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.i.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.M&&(this.vh+=" [front-to-back enabled]");
this.ab||(this.ua=document.createElement("canvas"),jQuery(this.ua).appendTo(this.canvas.parentNode),this.ua.oncontextmenu=function(){return!1},this.ua.onselectstart=function(){return!1},this.ua.width=Math.round(this.Af*this.devicePixelRatio),this.ua.height=Math.round(this.Ae*this.devicePixelRatio),jQuery(this.ua).css({width:this.Af+"px",height:this.Ae+"px"}),this.xk(),this.Yh=this.ua.getContext("2d"));this.j=new bb(this.i,this.nd,this.M);this.j.xd(this.canvas.width,this.canvas.height);this.j.wm=0!==
this.nm;this.U=null;c=0;for(d=this.g.length;c<d;c++)for(l=this.g[c],b=0,h=l.p.length;b<h;b++)g=l.p[b],g.ba=this.j.uh(g.id),g.Ab=this.j.ai(g.ba),this.me=this.me||this.j.jf(g.ba);c=0;for(d=this.zb.length;c<d;c++){f=this.zb[c];b=0;for(h=f.p.length;b<h;b++)g=f.p[b],g.ba=this.j.uh(g.id),g.Ab=this.j.ai(g.ba);f.Eb();b=0;for(h=f.q.length;b<h;b++){n=f.q[b];l=0;for(e=n.p.length;l<e;l++)g=n.p[l],g.ba=this.j.uh(g.id),g.Ab=this.j.ai(g.ba),this.me=this.me||this.j.jf(g.ba);n.Eb()}}}else{if(0<this.Na&&this.ld){this.canvas=
null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.U=AppMobi.canvas.getContext("2d");try{this.U.samplingMode=this.fa?"smooth":"sharp",this.U.globalScale=1,this.U.HTML5CompatibilityMode=!0,this.U.imageSmoothingEnabled=this.fa}catch(y){}0!==this.width&&0!==this.height&&(this.U.width=this.width,this.U.height=this.height)}this.U||(this.yb?(c={antialias:!!this.fa,alpha:!0},this.U=this.canvas.getContext("2d",c)):(c={alpha:!0},this.U=this.canvas.getContext("2d",
c)),this.ug(this.U,this.fa));this.Yh=this.ua=null}this.$k=function(c){a.le(!1,c)};window==window.top||this.ab||this.Xn||this.Re||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.yb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(z("Reloading for continuous preview"),this.eg="__c2_continuouspreview",
this.qf=!0),this.po&&!this.nd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.ab||(c=function(a){if(ab(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",
c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Na&&this.Pd&&1<this.devicePixelRatio&&this.setSize(this.ja,this.ia,!0);this.el();this.Jn();this.go();this.Q={}};f.prototype.setSize=function(a,c,d){var b=0,h=0,l=0,e=0,e=0;if(this.Ud!==a||this.Td!==c||d){this.Ud=a;this.Td=c;var g=this.Na;if((l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.Pe)&&!this.Kc)||0!==this.Na||d)l&&0<this.gd&&(g=this.gd),d=this.devicePixelRatio,4<=g?(l=this.ja/this.ia,a/c>l?(l*=c,5===g?(e=l*d/this.ja,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),l=this.ja*e/d,e=this.ia*e/d,b=(a-l)/2,h=(c-e)/2,a=l,c=e):(b=(a-l)/2,a=l)):(e=a/l,5===g?(e=e*d/this.ia,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),l=this.ja*e/d,e=this.ia*e/d,b=(a-l)/2,h=(c-e)/2,a=l):h=(c-e)/2,c=e)):this.Vf&&this.Pe&&0===this.mj&&(b=Math.floor((a-this.ja)/2),h=Math.floor((c-
this.ia)/2),a=this.ja,c=this.ia),2>g&&(this.te=d),this.Af=Math.round(a),this.Ae=Math.round(c),this.width=Math.round(a*d),this.height=Math.round(c*d),this.O=!0,this.ml?(this.n=this.width,this.m=this.height,this.Ya=!0):this.width<this.ja&&this.height<this.ia||1===g?(this.n=this.width,this.m=this.height,this.Ya=!0):(this.n=this.ja,this.m=this.ia,this.Ya=!1,2===g?(l=this.ja/this.ia,g=this.Ud/this.Td,g<l?this.n=this.m*g:g>l&&(this.m=this.n/g)):3===g&&(l=this.ja/this.ia,g=this.Ud/this.Td,g>l?this.n=this.m*
g:g<l&&(this.m=this.n/g))),this.Xi&&!this.ab&&(jQuery(this.Xi).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(c*d),this.Pb?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Pd&&!this.ab&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.ua&&(this.ua.width=Math.round(a*d),this.ua.height=Math.round(c*d),this.ua.style.width=this.Af+"px",this.ua.style.height=this.Ae+"px"),this.j&&this.j.xd(Math.round(a*d),Math.round(c*d)),this.ld&&this.U&&(this.U.width=Math.round(a),this.U.height=Math.round(c)),this.U&&this.ug(this.U,this.fa),this.el(),this.Ij&&!this.Kc&&window.scrollTo(0,
0)}};f.prototype.el=function(){if(this.Ml&&0!==this.Xh){var a="portrait";2===this.Xh&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};f.prototype.jo=
function(){this.j.Tl();this.Jh=!0;var a,c,d;a=0;for(c=this.g.length;a<c;a++)d=this.g[a],d.rk&&d.rk()};f.prototype.ko=function(){this.Jh=!1;var a,c,d;a=0;for(c=this.g.length;a<c;a++)d=this.g[a],d.lo&&d.lo()};f.prototype.xk=function(){if(!this.ab){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Pe)&&!this.Kc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ua).css(a)}};var r=window.cancelAnimationFrame||
window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var c;if(a&&!this.Qe)for(z("[Construct 2] Suspending"),this.Qe=!0,-1!==this.gi&&r&&r(this.gi),-1!==this.qi&&clearTimeout(this.qi),a=0,c=this.Ag.length;a<c;a++)this.Ag[a](!0);else if(!a&&this.Qe){z("[Construct 2] Resuming");this.Qe=!1;this.Zf=Oa();this.rd=Oa();a=this.cf=this.Lf=0;for(c=this.Ag.length;a<c;a++)this.Ag[a](!1);this.le(!1)}};
f.prototype.tc=function(a){return this.mg[a]};f.prototype.We=function(a){a&&a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.kj=a[1];this.Na=a[12];this.mj=a[12];this.ja=a[10];this.ia=a[11];this.tk=this.ja/2;this.uk=this.ia/2;this.ab&&!this.Pb&&(4<=a[12]||0===a[12])&&(z("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.mj=this.Na=3);this.Bi=a[18];this.Pc=a[19];if(0===this.Pc){var c=new Image;c.crossOrigin=
"anonymous";this.Lo(c);this.Oc={jg:c}}else if(4===this.Pc){c=new Image;c.src="";var d=new Image;d.src="";var b=new Image;b.src="";var h=new Image;h.src="";var l=new Image;l.src="";var e=new Image;e.src="";var g=new Image;g.src="";var f=new Image;f.src="";var n=new Image;n.src="";var k=new Image;k.src="";var y=new Image;y.src="";var v=new Image;v.src="";this.Oc={jg:[c,d,b,h],to:[l,e,g,f],gp:[n,k,y,v]}}this.ef=a[21];this.mg=[Yb];this.Wb=new Z(this);c=0;for(d=a[2].length;c<d;c++)g=a[2][c],b=this.tc(g[0]),
cb(g,b.prototype),f=new b(this),f.yg=g[1],f.Lc=g[2],f.zq=g[5],f.ik=g[9],f.eb&&f.eb(),this.plugins.push(f);this.mg=[Yb];c=0;for(d=a[3].length;c<d;c++){g=a[3][c];l=this.tc(g[1]);f=null;b=0;for(h=this.plugins.length;b<h;b++)if(this.plugins[b]instanceof l){f=this.plugins[b];break}n=new f.Ng(f);n.name=g[0];n.G=g[2];n.Bh=g[3].slice(0);n.ep=g[3].length;n.Ol=g[4];n.gn=g[5];n.D=g[11];n.G?(n.gk=[],n.ac=this.Ge++,n.R=null):(n.gk=null,n.ac=-1,n.R=[]);n.Gf=null;n.Nd=null;n.fj=null;n.bb=!1;n.Ma=null;g[6]?(n.Uo=
g[6][0],n.Vo=g[6][1],n.Wo=g[6][2]):(n.Uo=null,n.Vo=0,n.Wo=0);g[7]?n.Kl=g[7]:n.Kl=null;n.index=c;n.d=[];n.Cf=[];n.mc=[new db(n)];n.Ib=0;n.Kb=null;n.Wl=0;n.ie=!0;n.Gg=eb;n.ln=fb;n.sn=gb;n.S=hb;n.lf=ib;n.ci=jb;n.ae=kb;n.Mf=lb;n.oh=mb;n.qh=nb;n.Gd=ob;n.rh=pb;n.Zi=new Va(this.ja,this.ia);n.Li=!0;n.Mi=!1;n.Q={};n.toString=qb;n.T=[];b=0;for(h=g[8].length;b<h;b++){k=g[8][b];y=this.tc(k[1]);v=null;l=0;for(e=this.T.length;l<e;l++)if(this.T[l]instanceof y){v=this.T[l];break}v||(v=new y(this),v.jk=[],v.Vh=new ba,
v.eb&&v.eb(),this.T.push(v));-1===v.jk.indexOf(n)&&v.jk.push(n);l=new v.Ng(v);l.name=k[0];l.D=k[2];l.eb();n.T.push(l)}n.global=g[9];n.Gh=g[10];n.p=[];b=0;for(h=g[12].length;b<h;b++)n.p.push({id:g[12][b][0],name:g[12][b][1],ba:-1,Ab:!1,Va:!0,index:b});n.Gq=g[13];this.Bi&&!n.G&&!n.Gh&&f.Lc||n.eb();n.name&&(this.types[n.name]=n);this.g.push(n);f.yg&&(b=new f.Dd(n),b.uid=this.ef++,b.Ak=this.lk++,b.jd=0,b.Ie=rb,b.toString=sb,b.lb=g[14],b.eb(),n.d.push(b),this.ic[b.uid.toString()]=b)}c=0;for(d=a[4].length;c<
d;c++)for(l=a[4][c],e=this.g[l[0]],b=1,h=l.length;b<h;b++)g=this.g[l[b]],g.R.push(e),e.gk.push(g);c=0;for(d=a[28].length;c<d;c++){l=a[28][c];e=[];b=0;for(h=l.length;b<h;b++)e.push(this.g[l[b]]);b=0;for(h=e.length;b<h;b++)e[b].bb=!0,e[b].Ma=e}if(0<this.Ge)for(c=0,d=this.g.length;c<d;c++)if(g=this.g[c],!g.G&&g.R.length){g.Gf=Array(this.Ge);g.Nd=Array(this.Ge);g.fj=Array(this.Ge);n=[];b=v=y=k=0;for(h=g.R.length;b<h;b++)for(f=g.R[b],g.Gf[f.ac]=k,k+=f.ep,g.Nd[f.ac]=y,y+=f.Ol,g.fj[f.ac]=v,v+=f.gn,l=0,e=
f.p.length;l<e;l++)n.push(qa({},f.p[l]));g.p=n.concat(g.p);b=0;for(h=g.p.length;b<h;b++)g.p[b].index=b}c=0;for(d=a[5].length;c<d;c++)g=a[5][c],b=new tb(this,g),this.Oh[b.name]=b,this.zb.push(b);c=0;for(d=a[6].length;c<d;c++)g=a[6][c],b=new ub(this,g),this.hh[b.name]=b,this.$b.push(b);c=0;for(d=this.$b.length;c<d;c++)this.$b[c].Y();c=0;for(d=this.$b.length;c<d;c++)this.$b[c].xi();c=0;for(d=this.Fg.length;c<d;c++)this.Fg[c].Y();U(this.Fg);this.Ll=a[7];this.$d=a[9];this.te=1;this.vm=a[13];this.fa=a[14];
this.Yi=a[15];this.dp=a[17];this.Xh=a[20];this.Ml=0<this.Xh;this.po=a[22];this.Ya=this.ml=a[23];this.nm=a[24];this.vo=a[25];this.M=a[27]&&!this.md;this.zg=Date.now();U(this.mg);this.Pn()};var c=0,d=!1;f.prototype.Jn=function(){this.ue&&(c=this.ue.Cq(this.Ll))};f.prototype.Ni=function(){var a=c,b=0,h=0,g=!0,l,e,h=0;for(l=this.ll.length;h<l;h++){e=this.ll[h];var n=e.wq;if(!n||0>=n)n=5E4;a+=n;e.src&&(e.complete||e.loaded)&&!e.uq?b+=n:g=!1}g&&this.vo&&this.ue&&(d||(this.ue.Dq(),d=!0),h=this.ue.xq(),b+=
h,h<c&&(g=!1));this.Bb=0==a?1:b/a;return g};var g=!1;f.prototype.go=function(){if(this.U||this.j){var a=this.U||this.Yh;this.ua&&this.xk();var c=window.innerWidth,d=window.innerHeight;this.Ud===c&&this.Td===d||this.setSize(c,d);this.Bb=0;this.Mj=-1;var b=this;if(this.Ni()&&(4!==this.Pc||g))this.Kn();else{d=Date.now()-this.zg;if(a){var h=this.width,l=this.height,c=this.devicePixelRatio;if(3>this.Pc&&(this.yb||500<=d&&this.Mj!=this.Bb)){a.clearRect(0,0,h,l);var d=h/2,l=l/2,h=0===this.Pc&&this.Oc.jg.complete,
n=40*c,f=0,k=80*c,y;if(h){var v=this.Oc.jg,k=v.width*c;y=v.height*c;n=k/2;f=y/2;a.drawImage(v,O(d-n),O(l-f),k,y)}1>=this.Pc?(d=O(d-n)+.5,l=O(l+(f+(h?12*c:0)))+.5,a.fillStyle="DodgerBlue",a.fillRect(d,l,Math.floor(k*this.Bb),6*c),a.strokeStyle="black",a.strokeRect(d,l,k,6*c),a.strokeStyle="white",a.strokeRect(d-1*c,l-1*c,k+2*c,8*c)):2===this.Pc&&(a.font=this.Pb?"12pt ArialMT":"12pt Arial",a.fillStyle="#999",a.Fq="middle",c=Math.round(100*this.Bb)+"%",h=a.measureText?a.measureText(c):null,a.fillText(c,
d-(h?h.width:0)/2,l));this.Mj=this.Bb}else if(4===this.Pc){this.tm(a);e?e(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.yb?10:100)}}};var l=-1,y="undefined"===typeof cr_is_preview?200:0,v=!0,x=!1,h=0,n=0,T="undefined"===typeof cr_is_preview?3E3:0,B=null,Q=null,C=0;f.prototype.tm=function(a){if(!g){for(var c=Math.ceil(this.width),d=Math.ceil(this.height),b=this.Oc.jg,e=this.Oc.to,f=this.Oc.gp,D=0;4>D;++D)if(!b[D].complete||!e[D].complete||!f[D].complete)return;
0===C&&(l=Date.now());var D=Date.now(),r=!1,m=a,q,p;v||x?(a.clearRect(0,0,c,d),B&&B.width===c&&B.height===d||(B=document.createElement("canvas"),B.width=c,B.height=d,Q=B.getContext("2d")),m=Q,r=!0,v&&1===C&&(l=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,c,d);256<this.Ae?(q=za(.22*d,105,.6*c),p=.25*q,m.drawImage(k(e,q),.5*c-q/2,.2*d-p/2,q,p),p=q=Math.min(.395*d,.95*c),m.drawImage(k(b,q),.5*c-q/2,.485*d-p/2,q,p),q=za(.22*d,105,.6*c),p=.25*q,m.drawImage(k(f,q),.5*c-q/2,.868*d-p/
2,q,p),m.fillStyle="#3C3C3C",q=c,p=Math.max(.005*d,2),m.fillRect(0,.8*d-p/2,q,p),m.fillStyle="#E0FF65",q=c*this.Bb,m.fillRect(.5*c-q/2,.8*d-p/2,q,p)):(p=q=.55*d,m.drawImage(k(b,q),.5*c-q/2,.45*d-p/2,q,p),m.fillStyle="#3C3C3C",q=c,p=Math.max(.005*d,2),m.fillRect(0,.85*d-p/2,q,p),m.fillStyle="#E0FF65",q=c*this.Bb,m.fillRect(.5*c-q/2,.85*d-p/2,q,p));r&&(v?a.globalAlpha=0===C?0:Math.min((D-l)/300,1):x&&(a.globalAlpha=Math.max(1-(D-n)/300,0)),a.drawImage(B,0,0,c,d));v&&300<=D-l&&2<=C&&(v=!1,h=D);!v&&D-
h>=T&&!x&&1<=this.Bb&&(x=!0,n=D);if(x&&D-n>=300+y||"undefined"!==typeof cr_is_preview&&1<=this.Bb&&500>Date.now()-l)g=!0,x=v=!1,this.Oc=Q=B=null;++C}};f.prototype.Kn=function(){this.ua&&(this.canvas.parentNode.removeChild(this.ua),this.ua=this.Yh=null);this.zg=Date.now();this.rd=Oa();var a,c,d;if(this.Bi)for(a=0,c=this.g.length;a<c;a++)d=this.g[a],d.G||d.Gh||!d.wa.Lc||d.eb();else this.Yf=!1;a=0;for(c=this.zb.length;a<c;a++)this.zb[a].Ul();2<=this.Na&&(a=this.ja/this.ia,c=this.width/this.height,this.te=
2!==this.Na&&c>a||2===this.Na&&c<a?this.height/this.ia:this.width/this.ja);this.kj?this.Oh[this.kj].oi():this.zb[0].oi();this.Bi||(this.gg=1,this.trigger(Z.prototype.P.Gi,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.g.length;a<c;a++)d=this.g[a],d.io&&d.io();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.le(!1);this.ld&&AppMobi.webview.execute("onGameReady();")};
f.prototype.le=function(a,c,d){if(this.J){var b=Oa();if(d||!this.Qe||a){a||(e?this.gi=e(this.$k):this.qi=setTimeout(this.$k,this.nd?1:16));c=c||b;var h=this.Na;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Kc)||this.Pe)&&0<this.gd&&(h=this.gd);if(0<h){var h=window.innerWidth,l=window.innerHeight;this.Ud===h&&this.Td===l||this.setSize(h,l)}this.ab||(d?this.If||(this.If=!0):this.If?(this.If=!1,0===this.Na&&this.setSize(Math.round(this.qk/
this.devicePixelRatio),Math.round(this.pk/this.devicePixelRatio),!0)):(this.qk=this.width,this.pk=this.height));this.Yf&&(d=this.Ni(),this.gg=this.Bb,d&&(this.Yf=!1,this.Bb=1,this.trigger(Z.prototype.P.Gi,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.co(c);!this.O&&!this.yb||this.Jh||this.qf||a||(this.O=!1,this.j?this.Lb():this.Fc(),this.pf&&(this.canvas&&this.canvas.toDataURL&&(this.Tk=this.canvas.toDataURL(this.pf[0],this.pf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Tk),this.trigger(Z.prototype.P.xl,
null)),this.pf=null));this.yq||(this.nc++,this.Ff++,this.Lf++);this.cf+=Oa()-b}}};f.prototype.co=function(a){var c,d,b,h,l,g,e,n;1E3<=a-this.rd&&(this.rd+=1E3,1E3<=a-this.rd&&(this.rd=a),this.mh=this.Lf,this.Lf=0,this.ah=this.cf,this.cf=0);c=0;0!==this.Zf&&(c=a-this.Zf,0>c&&(c=0),this.ad=c/=1E3,.5<this.ad?this.ad=0:this.ad>1/this.hk&&(this.ad=1/this.hk));this.Zf=a;this.Ld=this.ad*this.sf;this.ib.add(this.Ld);this.Kg.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
!!document.msFullscreenElement||this.Pe)&&!this.Kc;2<=this.Na||a&&0<this.gd?(c=this.ja/this.ia,d=this.width/this.height,b=this.Na,a&&0<this.gd&&(b=this.gd),this.te=2!==b&&d>c||2===b&&d<c?this.height/this.ia:this.width/this.ja,this.J&&(this.J.Hk(this.J.scrollX),this.J.Ik(this.J.scrollY))):this.te=this.Pd?this.devicePixelRatio:1;this.za();this.ec++;this.Wb.Do();this.ec--;this.za();this.ec++;d=this.nk.zd();a=0;for(c=d.length;a<c;a++)d[a].Aq();a=0;for(c=this.g.length;a<c;a++)if(g=this.g[a],!g.G&&(g.T.length||
g.R.length))for(d=0,b=g.d.length;d<b;d++)for(e=g.d[d],h=0,l=e.B.length;h<l;h++)e.B[h].le();a=0;for(c=this.g.length;a<c;a++)if(g=this.g[a],!g.G&&(g.T.length||g.R.length))for(d=0,b=g.d.length;d<b;d++)for(e=g.d[d],h=0,l=e.B.length;h<l;h++)n=e.B[h],n.so&&n.so();d=this.Wh.zd();a=0;for(c=d.length;a<c;a++)d[a].le();this.ec--;this.Ln();for(a=0;this.Yg&&10>a++;)this.ej(this.Yg);a=0;for(c=this.$b.length;a<c;a++)this.$b[a].xh=!1;this.J.dd&&this.J.dd.ka();U(this.Dk);this.ec++;a=0;for(c=this.g.length;a<c;a++)if(g=
this.g[a],!g.G&&(g.T.length||g.R.length))for(d=0,b=g.d.length;d<b;d++)for(e=g.d[d],h=0,l=e.B.length;h<l;h++)n=e.B[h],n.Zk&&n.Zk();d=this.ok.zd();a=0;for(c=d.length;a<c;a++)d[a].Zk();this.ec--};f.prototype.ej=function(a){var c=this.J;this.J.So();var d,b,h;if(this.j)for(d=0,b=this.g.length;d<b;d++)h=this.g[d],h.G||!h.ap||h.global&&0!==h.d.length||-1!==a.Me.indexOf(h)||h.ap();c==a&&U(this.Wb.Ua);U(this.Dk);this.Ek(!0);a.oi();this.Ek(!1);this.O=!0;this.za()};f.prototype.Ek=function(a){var c,d,b,h,g,l,
e,n,f;c=0;for(d=this.T.length;c<d;c++)b=this.T[c],a?b.ff&&b.ff():b.gf&&b.gf();c=0;for(d=this.g.length;c<d;c++)if(b=this.g[c],b.global||b.wa.yg)for(h=0,g=b.d.length;h<g;h++)if(l=b.d[h],a?l.ff&&l.ff():l.gf&&l.gf(),l.B)for(e=0,n=l.B.length;e<n;e++)f=l.B[e],a?f.ff&&f.ff():f.gf&&f.gf()};f.prototype.Xo=function(a){this.Wh.add(a)};f.prototype.kn=function(a){return a&&-1!==a.df?this.ad*a.df:this.Ld};f.prototype.Fc=function(){this.J.Fc(this.U);this.ld&&this.U.present()};f.prototype.Lb=function(){this.M&&(this.bd=
1,this.J.Ce(this.j));this.J.Lb(this.j);this.j.xo()};f.prototype.sj=function(a){a=a.toString();return this.ic.hasOwnProperty(a)?this.ic[a]:null};var W=[];f.prototype.Bd=function(a){var c,d;c=a.type.name;var b=null;if(this.$c.hasOwnProperty(c)){if(b=this.$c[c],b.contains(a))return}else b=W.length?W.pop():new ba,this.$c[c]=b;b.add(a);this.Ic=!0;if(a.bb)for(c=0,d=a.siblings.length;c<d;c++)this.Bd(a.siblings[c]);this.Fh&&b.ne.push(a);this.Eh||(this.ec++,this.trigger(Object.getPrototypeOf(a.type.wa).P.yl,
a),this.ec--)};f.prototype.za=function(){if(this.Ic){var a,c,d,b,h,l;this.Fh=!0;d=0;for(h=this.Hb.length;d<h;++d)for(a=this.Hb[d],c=a.type,c.d.push(a),b=0,l=c.R.length;b<l;++b)c.R[b].d.push(a),c.R[b].ie=!0;U(this.Hb);this.ul();Na(this.$c);this.Ic=this.Fh=!1}};f.prototype.ul=function(){for(var a in this.$c)this.$c.hasOwnProperty(a)&&this.ql(this.$c[a])};f.prototype.ql=function(a){var c=a.zd(),d=c[0].type,b,h,l,g,e,n;Pa(d.d,a);d.ie=!0;0===d.d.length&&(d.Mi=!1);b=0;for(h=d.R.length;b<h;++b)n=d.R[b],
Pa(n.d,a),n.ie=!0;b=0;for(h=this.Wb.Ua.length;b<h;++b)if(e=this.Wb.Ua[b],e.Ta.hasOwnProperty(d.index)&&Pa(e.Ta[d.index].kd,a),!d.G)for(l=0,g=d.R.length;l<g;++l)n=d.R[l],e.Ta.hasOwnProperty(n.index)&&Pa(e.Ta[n.index].kd,a);if(e=c[0].e){if(e.gb)for(l=e.d,b=0,h=l.length;b<h;++b)g=l[b],a.contains(g)&&(g.ya(),e.xa.update(g,g.Ja,null),g.Ja.set(0,0,-1,-1));Pa(e.d,a);e.nf(0)}for(b=0;b<c.length;++b)this.pl(c[b],d);a.clear();W.push(a);this.O=!0};f.prototype.pl=function(a,c){var d,b,h;d=0;for(b=this.dj.length;d<
b;++d)this.dj[d](a);a.Ec&&c.Zi.update(a,a.Ec,null);(d=a.e)&&d.fe(a,!0);if(a.B)for(d=0,b=a.B.length;d<b;++d)h=a.B[d],h.og&&h.og(),h.behavior.Vh.remove(a);this.nk.remove(a);this.Wh.remove(a);this.ok.remove(a);a.og&&a.og();this.ic.hasOwnProperty(a.uid.toString())&&delete this.ic[a.uid.toString()];this.ng--;100>c.Cf.length&&c.Cf.push(a)};var A=[];f.prototype.Zc=function(a,c,d,b,h,l){var g,e,n,f;if(!a)return null;var k=this.g[a[1]],y=k.wa.Lc;if(this.Yf&&y&&!k.Gh||y&&!this.j&&11===a[0][11])return null;
var v=c;y||(c=null);var m;k.Cf.length?(m=k.Cf.pop(),m.Sb=!0,k.wa.Dd.call(m,k)):(m=new k.wa.Dd(k),m.Sb=!1);!d||l||this.ic.hasOwnProperty(a[2].toString())?m.uid=this.ef++:m.uid=a[2];this.ic[m.uid.toString()]=m;m.Ak=this.lk++;m.jd=k.d.length;g=0;for(e=this.Hb.length;g<e;++g)this.Hb[g].type===k&&m.jd++;m.Ie=rb;m.toString=sb;n=a[3];if(m.Sb)Na(m.Q);else{m.Q={};if("undefined"!==typeof cr_is_preview)for(m.Aj=[],m.Aj.length=n.length,g=0,e=n.length;g<e;g++)m.Aj[g]=n[g][1];m.ca=[];m.ca.length=n.length}g=0;for(e=
n.length;g<e;g++)m.ca[g]=n[g][0];if(y){var r=a[0];m.x=fa(b)?r[0]:b;m.y=fa(h)?r[1]:h;m.z=r[2];m.width=r[3];m.height=r[4];m.depth=r[5];m.k=r[6];m.opacity=r[7];m.Rf=r[8];m.Sf=r[9];m.Aa=r[10];g=r[11];!this.j&&k.p.length&&(m.Aa=g);m.we=Xa(m.Aa);this.i&&Ya(m,m.Aa,this.i);if(m.Sb){g=0;for(e=r[12].length;g<e;g++)for(n=0,f=r[12][g].length;n<f;n++)m.V[g][n]=r[12][g][n];m.qa.set(0,0,0,0);m.Ec.set(0,0,-1,-1);m.Ja.set(0,0,-1,-1);m.Hd.xg(m.qa);U(m.Qg)}else{m.V=r[12].slice(0);g=0;for(e=m.V.length;g<e;g++)m.V[g]=
r[12][g].slice(0);m.C=[];m.uc=[];m.uc.length=k.p.length;m.qa=new S(0,0,0,0);m.Ec=new S(0,0,-1,-1);m.Ja=new S(0,0,-1,-1);m.Hd=new pa;m.Qg=[];m.pa=vb;m.tq=wb;m.Gb=xb;m.ya=yb;m.cp=zb;m.Hq=Ab;m.Nb=Bb}m.al=!1;m.$o=0;m.Zo=0;m.Yo=null;14===r.length&&(m.al=!0,m.$o=r[13][0],m.Zo=r[13][1],m.Yo=r[13][2]);g=0;for(e=k.p.length;g<e;g++)m.uc[g]=!0;m.kc=!0;m.Eb=Cb;m.Eb();m.jl=!!m.C.length;m.Pg=!0;m.Vg=!0;k.Li=!0;m.visible=!0;m.df=-1;m.e=c;m.Fb=c.d.length;m.bd=0;"undefined"===typeof m.ve&&(m.ve=null);this.O=m.yf=
!0}var x;U(A);g=0;for(e=k.R.length;g<e;g++)A.push.apply(A,k.R[g].T);A.push.apply(A,k.T);if(m.Sb)for(g=0,e=A.length;g<e;g++){var q=A[g];x=m.B[g];x.Sb=!0;q.behavior.Dd.call(x,q);r=a[4][g];n=0;for(f=r.length;n<f;n++)x.lb[n]=r[n];x.eb();q.behavior.Vh.add(m)}else for(m.B=[],g=0,e=A.length;g<e;g++)q=A[g],x=new q.behavior.Dd(q),x.Sb=!1,x.lb=a[4][g].slice(0),x.eb(),m.B.push(x),q.behavior.Vh.add(m);r=a[5];if(m.Sb)for(g=0,e=r.length;g<e;g++)m.lb[g]=r[g];else m.lb=r.slice(0);this.Hb.push(m);this.Ic=!0;c&&(c.se(m,
!0),1!==c.Yd||1!==c.Zd)&&(k.Mi=!0);this.ng++;if(k.bb){if(m.bb=!0,m.Sb?U(m.siblings):m.siblings=[],!d&&!l){g=0;for(e=k.Ma.length;g<e;g++)if(k.Ma[g]!==k){if(!k.Ma[g].Kb)return null;m.siblings.push(this.Zc(k.Ma[g].Kb,v,!1,y?m.x:b,y?m.y:h,!0))}g=0;for(e=m.siblings.length;g<e;g++)for(m.siblings[g].siblings.push(m),n=0;n<e;n++)g!==n&&m.siblings[g].siblings.push(m.siblings[n])}}else m.bb=!1,m.siblings=null;m.eb();g=0;for(e=m.B.length;g<e;g++)m.B[g].ro&&m.B[g].ro();return m};f.prototype.pn=function(a){var c,
d;c=0;for(d=this.J.q.length;c<d;c++){var b=this.J.q[c];if($a(b.name,a))return b}return null};f.prototype.qn=function(a){a=O(a);0>a&&(a=0);a>=this.J.q.length&&(a=this.J.q.length-1);return this.J.q[a]};f.prototype.Zg=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].S().oa=!0};f.prototype.lf=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].lf()};f.prototype.ci=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].ci()};f.prototype.ae=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].ae()};new pa;
new S(0,0,0,0);f.prototype.fl=function(a,c){if(!c)return!1;var d,b,g,h,l;d=0;for(b=a.T.length;d<b;d++)if(a.T[d].behavior instanceof c)return!0;if(!a.G)for(d=0,b=a.R.length;d<b;d++)for(l=a.R[d],g=0,h=l.T.length;g<h;g++)if(l.T[g].behavior instanceof c)return!0;return!1};f.prototype.vi=function(a){return this.fl(a,Qb.Lp)};f.prototype.wi=function(a){return this.fl(a,Qb.Np)};var H=-1;f.prototype.trigger=function(a,c,d){if(!this.J)return!1;var b=this.J.dd;if(!b)return!1;var g=!1,h,l,e;H++;var n=b.eh;l=
0;for(e=n.length;l<e;++l)h=this.cl(a,c,n[l],d),g=g||h;h=this.cl(a,c,b,d);H--;return g||h};f.prototype.cl=function(a,c,d,b){var g=!1,h,l,e,n;if(c)for(e=this.si(a,c,c.type.name,d,b),g=g||e,n=c.type.R,h=0,l=n.length;h<l;++h)e=this.si(a,c,n[h].name,d,b),g=g||e;else e=this.si(a,c,"system",d,b),g=g||e;return g};f.prototype.si=function(a,c,d,b,g){var h,l=!1,e=!1,e="undefined"!==typeof g,n=(e?b.hj:b.dl)[d];if(!n)return l;var f=null;b=0;for(h=n.length;b<h;++b)if(n[b].method==a){f=n[b].Fe;break}if(!f)return l;
var k;e?k=f[g]:k=f;if(!k)return null;b=0;for(h=k.length;b<h;b++)a=k[b][0],g=k[b][1],e=this.bn(c,d,a,g),l=l||e;return l};f.prototype.bn=function(a,c,d,b){var g,h,l=!1;this.ti++;var e=this.Za().Jb;e&&this.lf(e.Tc);var n=1<this.ti;this.lf(d.Tc);n&&this.zo();var f=this.di(d);f.Jb=d;a&&(g=this.types[c].S(),g.oa=!1,U(g.d),g.d[0]=a,this.types[c].Gd());a=!0;if(d.parent){c=f.Wk;for(g=d.parent;g;)c.push(g),g=g.parent;c.reverse();g=0;for(h=c.length;g<h;g++)if(!c[g].Fo()){a=!1;break}}a&&(this.Ff++,d.jc?d.Eo(b):
d.ka(),l=l||f.qd);this.wk();n&&this.qo();this.ae(d.Tc);e&&this.ae(e.Tc);this.Ic&&0===this.ec&&0===H&&!this.Hh&&this.za();this.ti--;return l};f.prototype.jn=function(){var a=this.Za();return a.Jb.Ba[a.La]};f.prototype.zo=function(){this.ig++;this.ig>=this.Th.length&&this.Th.push([])};f.prototype.qo=function(){this.ig--};f.prototype.nj=function(){return this.Th[this.ig]};f.prototype.di=function(a){this.Ef++;this.Ef>=this.gh.length&&this.gh.push(new Db);var c=this.Za();c.reset(a);return c};f.prototype.wk=
function(){this.Ef--};f.prototype.Za=function(){return this.gh[this.Ef]};f.prototype.oj=function(a,c){for(var d,b,g,h,l,e;c;){d=0;for(b=c.pb.length;d<b;d++)if(e=c.pb[d],e instanceof Eb&&$a(a,e.name))return e;c=c.parent}d=0;for(b=this.$b.length;d<b;d++)for(l=this.$b[d],g=0,h=l.Gc.length;g<h;g++)if(e=l.Gc[g],e instanceof Eb&&$a(a,e.name))return e;return null};f.prototype.qj=function(a){var c,d;c=0;for(d=this.zb.length;c<d;c++)if(this.zb[c].D===a)return this.zb[c];return null};f.prototype.Of=function(a){var c,
d;c=0;for(d=this.g.length;c<d;c++)if(this.g[c].D===a)return this.g[c];return null};f.prototype.mn=function(a){var c,d;c=0;for(d=this.Fd.length;c<d;c++)if(this.Fd[c].D===a)return this.Fd[c];return null};f.prototype.Xl=function(a,c){this.pf=[a,c];this.O=!0};f.prototype.Ln=function(){var a=this,c=this.ni,d=this.fc,g=this.eg,h=!1;this.Sk&&(h=!0,c="__c2_continuouspreview",this.Sk=!1);if(c.length){this.za();d=this.Jo();if(q()&&!this.yb)u(c,d,function(){z("Saved state to IndexedDB storage ("+d.length+" bytes)");
a.fc=d;a.trigger(Z.prototype.P.Mg,null);a.fc="";h&&b()},function(g){try{localStorage.setItem("__c2save_"+c,d),z("Saved state to WebStorage ("+d.length+" bytes)"),a.fc=d,a.trigger(Z.prototype.P.Mg,null),a.fc="",h&&b()}catch(l){z("Failed to save game state: "+g+"; "+l),a.trigger(Z.prototype.P.Hi,null)}});else try{localStorage.setItem("__c2save_"+c,d),z("Saved state to WebStorage ("+d.length+" bytes)"),a.fc=d,this.trigger(Z.prototype.P.Mg,null),a.fc="",h&&b()}catch(l){z("Error saving to WebStorage: "+
l),a.trigger(Z.prototype.P.Hi,null)}this.eg=this.ni="";this.ga=null}if(g.length){if(q()&&!this.yb)m(g,function(c){c?(a.ga=c,z("Loaded state from IndexedDB storage ("+a.ga.length+" bytes)")):(a.ga=localStorage.getItem("__c2save_"+g)||"",z("Loaded state from WebStorage ("+a.ga.length+" bytes)"));a.qf=!1;a.ga||(a.ga=null,a.trigger(Z.prototype.P.xf,null))},function(){a.ga=localStorage.getItem("__c2save_"+g)||"";z("Loaded state from WebStorage ("+a.ga.length+" bytes)");a.qf=!1;a.ga||(a.ga=null,a.trigger(Z.prototype.P.xf,
null))});else{try{this.ga=localStorage.getItem("__c2save_"+g)||"",z("Loaded state from WebStorage ("+this.ga.length+" bytes)")}catch(e){this.ga=null}this.qf=!1;a.ga||(a.ga=null,a.trigger(Z.prototype.P.xf,null))}this.ni=this.eg=""}null!==this.ga&&(this.za(),this.bo(this.ga)?(this.fc=this.ga,this.trigger(Z.prototype.P.Bl,null),this.fc=""):a.trigger(Z.prototype.P.xf,null),this.ga=null)};f.prototype.Jo=function(){var c,d,b,g,h,l,e,n={c2save:!0,version:1,rt:{time:this.ib.Ga,walltime:this.Kg.Ga,timescale:this.sf,
tickcount:this.nc,execcount:this.Ff,next_uid:this.ef,running_layout:this.J.D,start_time_offset:Date.now()-this.zg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(d=this.g.length;c<d;c++)if(h=this.g[c],!h.G&&!this.vi(h)){l={instances:[]};Ma(h.Q)&&(l.ex=a(h.Q));b=0;for(g=h.d.length;b<g;b++)l.instances.push(this.mi(h.d[b]));n.types[h.D.toString()]=l}c=0;for(d=this.zb.length;c<d;c++)b=this.zb[c],n.layouts[b.D.toString()]=b.Vb();g=n.events.groups;c=0;for(d=this.Fd.length;c<d;c++)b=
this.Fd[c],g[b.D.toString()]=this.Pf[b.Ke].Je;d=n.events.cnds;for(e in this.Dc)this.Dc.hasOwnProperty(e)&&(c=this.Dc[e],Ma(c.Q)&&(d[e]={ex:a(c.Q)}));d=n.events.acts;for(e in this.vc)this.vc.hasOwnProperty(e)&&(c=this.vc[e],Ma(c.Q)&&(d[e]={ex:a(c.Q)}));d=n.events.vars;for(e in this.oe)this.oe.hasOwnProperty(e)&&(c=this.oe[e],c.Wf||c.parent&&!c.Se||(d[e]=c.data));n.system=this.Wb.Vb();return JSON.stringify(n)};f.prototype.Ck=function(){var a,c,d,b,g,h;this.ic={};a=0;for(c=this.g.length;a<c;a++)if(d=
this.g[a],!d.G)for(b=0,g=d.d.length;b<g;b++)h=d.d[b],this.ic[h.uid.toString()]=h};f.prototype.bo=function(a){var c;try{c=JSON.parse(a)}catch(d){return!1}if(!c.c2save||1<c.version)return!1;this.Oe=!0;a=c.rt;this.ib.reset();this.ib.Ga=a.time;this.Kg.reset();this.Kg.Ga=a.walltime||0;this.sf=a.timescale;this.nc=a.tickcount;this.Ff=a.execcount;this.zg=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.J.D)if(b=this.qj(b))this.ej(b);else return;var g,h,l,e,n,f,k;f=c.types;for(h in f)if(f.hasOwnProperty(h)&&
(e=this.Of(parseInt(h,10)))&&!e.G&&!this.vi(e)){f[h].ex?e.Q=f[h].ex:Na(e.Q);n=e.d;l=f[h].instances;b=0;for(g=la(n.length,l.length);b<g;b++)this.fg(n[b],l[b]);b=l.length;for(g=n.length;b<g;b++)this.Bd(n[b]);b=n.length;for(g=l.length;b<g;b++){n=null;if(e.wa.Lc&&(n=this.J.Nf(l[b].w.l),!n))continue;n=this.Zc(e.Kb,n,!1,0,0,!0);this.fg(n,l[b])}e.ie=!0}this.za();this.Ck();g=c.layouts;for(h in g)g.hasOwnProperty(h)&&(b=this.qj(parseInt(h,10)))&&b.Nc(g[h]);g=c.events.groups;for(h in g)g.hasOwnProperty(h)&&
(b=this.mn(parseInt(h,10)))&&this.Pf[b.Ke]&&this.Pf[b.Ke].Ko(g[h]);b=c.events.cnds;for(h in this.Dc)this.Dc.hasOwnProperty(h)&&(b.hasOwnProperty(h)?this.Dc[h].Q=b[h].ex:this.Dc[h].Q={});b=c.events.acts;for(h in this.vc)this.vc.hasOwnProperty(h)&&(b.hasOwnProperty(h)?this.vc[h].Q=b[h].ex:this.vc[h].Q={});b=c.events.vars;for(h in b)b.hasOwnProperty(h)&&this.oe.hasOwnProperty(h)&&(this.oe[h].data=b[h]);this.ef=a.next_uid;this.Oe=!1;b=0;for(g=this.Hf.length;b<g;++b)n=this.Hf[b],this.trigger(Object.getPrototypeOf(n.type.wa).P.Fi,
n);U(this.Hf);this.Wb.Nc(c.system);b=0;for(g=this.g.length;b<g;b++)if(e=this.g[b],!e.G&&!this.vi(e))for(c=0,h=e.d.length;c<h;c++){n=e.d[c];if(e.bb)for(f=n.Ie(),U(n.siblings),a=0,l=e.Ma.length;a<l;a++)k=e.Ma[a],e!==k&&n.siblings.push(k.d[f]);n.Xc&&n.Xc();if(n.B)for(a=0,l=n.B.length;a<l;a++)f=n.B[a],f.Xc&&f.Xc()}return this.O=!0};f.prototype.mi=function(c,d){var b,g,h,e,l;e=c.type;h=e.wa;var n={};d?n.c2=!0:n.uid=c.uid;Ma(c.Q)&&(n.ex=a(c.Q));if(c.ca&&c.ca.length)for(n.ivs={},b=0,g=c.ca.length;b<g;b++)n.ivs[c.type.Bh[b].toString()]=
c.ca[b];if(h.Lc){h={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.D,zi:c.Nb()};0!==c.k&&(h.a=c.k);1!==c.opacity&&(h.o=c.opacity);.5!==c.Rf&&(h.hX=c.Rf);.5!==c.Sf&&(h.hY=c.Sf);0!==c.Aa&&(h.bm=c.Aa);c.visible||(h.v=c.visible);c.yf||(h.ce=c.yf);-1!==c.df&&(h.mts=c.df);if(e.p.length)for(h.fx=[],b=0,g=e.p.length;b<g;b++)l=e.p[b],h.fx.push({name:l.name,active:c.uc[l.index],params:c.V[l.index]});n.w=h}if(c.B&&c.B.length)for(n.behs={},b=0,g=c.B.length;b<g;b++)e=c.B[b],e.Vb&&(n.behs[e.type.D.toString()]=e.Vb());
c.Vb&&(n.data=c.Vb());return n};f.prototype.nn=function(a,c){var d,b;d=0;for(b=a.Bh.length;d<b;d++)if(a.Bh[d]===c)return d;return-1};f.prototype.hn=function(a,c){var d,b;d=0;for(b=a.B.length;d<b;d++)if(a.B[d].type.D===c)return d;return-1};f.prototype.fg=function(a,c,d){var b,g,h,e,l;l=a.type;var n=l.wa;if(d){if(!c.c2)return}else a.uid=c.uid;c.ex?a.Q=c.ex:Na(a.Q);if(g=c.ivs)for(b in g)g.hasOwnProperty(b)&&(h=this.nn(l,parseInt(b,10)),0>h||h>=a.ca.length||(e=g[b],null===e&&(e=NaN),a.ca[h]=e));if(n.Lc){h=
c.w;a.e.D!==h.l&&(g=a.e,a.e=this.J.Nf(h.l),a.e?(g.fe(a,!0),a.e.se(a,!0),a.pa(),a.e.nf(0)):(a.e=g,d||this.Bd(a)));a.x=h.x;a.y=h.y;a.width=h.w;a.height=h.h;a.Fb=h.zi;a.k=h.hasOwnProperty("a")?h.a:0;a.opacity=h.hasOwnProperty("o")?h.o:1;a.Rf=h.hasOwnProperty("hX")?h.hX:.5;a.Sf=h.hasOwnProperty("hY")?h.hY:.5;a.visible=h.hasOwnProperty("v")?h.v:!0;a.yf=h.hasOwnProperty("ce")?h.ce:!0;a.df=h.hasOwnProperty("mts")?h.mts:-1;a.Aa=h.hasOwnProperty("bm")?h.bm:0;a.we=Xa(a.Aa);this.i&&Ya(a,a.Aa,this.i);a.pa();
if(h.hasOwnProperty("fx"))for(d=0,g=h.fx.length;d<g;d++)e=l.qh(h.fx[d].name),0>e||(a.uc[e]=h.fx[d].active,a.V[e]=h.fx[d].params);a.Eb()}if(l=c.behs)for(b in l)l.hasOwnProperty(b)&&(d=this.hn(a,parseInt(b,10)),0>d||a.B[d].Nc(l[b]));c.data&&a.Nc(c.data)};f.prototype.ij=function(a,c,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,d)},d)};f.prototype.dn=function(a,c){this.ij("data.js",function(d){var b=new FileReader;b.onload=function(c){a(c.target.result)};
b.onerror=c;b.readAsText(d)},c)};var I=[],ea=0;f.prototype.Uh=function(){if(I.length&&!(8<=ea)){ea++;var a=I.shift();this.Zl(a.filename,a.To,a.zm)}};f.prototype.cn=function(a,c){var d=this;I.push({filename:"loading-logo.png",To:function(c){ea--;d.Uh();a(c)},zm:function(a){ea--;d.Uh();c(a)}});this.Uh()};f.prototype.Zl=function(a,c,d){this.ij(a,function(a){var d=new FileReader;d.onload=function(a){c(a.target.result)};d.readAsArrayBuffer(a)},d)};f.prototype.en=function(a,c){this.cn(function(c){c=URL.createObjectURL(new Blob([c],
{type:""}));a(c)},c)};f.prototype.Qn=function(){return/^(?:[a-z]+:)?\/\//.test("loading-logo.png")||!1||!1};f.prototype.Lo=function(a){this.Ej&&!this.Qn()?this.en(function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src="loading-logo.png"};f.prototype.ug=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Fb=function(a){return new f(document.getElementById(a))};
Gb=function(a,c){return new f({dc:!0,width:a,height:c})};window.cr_createRuntime=Fb;window.cr_createDCRuntime=Gb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Nl=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,k){var q=window.cr_getC2Runtime();q&&q.Xl(f,k)};
window.cr_sizeCanvas=function(f,k){if(0!==f&&0!==k){var q=window.cr_getC2Runtime();q&&q.setSize(f,k)}};window.cr_setSuspended=function(f){var k=window.cr_getC2Runtime();k&&k.setSuspended(f)};
(function(){function f(a,d){this.b=a;this.dd=null;this.scrollX=this.b.ja/2;this.scrollY=this.b.ia/2;this.scale=1;this.k=0;this.Od=!0;this.name=d[0];this.no=d[1];this.mo=d[2];this.width=d[1];this.height=d[2];this.gl=d[3];this.Qk=d[4];this.D=d[5];var b=d[6],e,f;this.q=[];this.Me=[];e=0;for(f=b.length;e<f;e++){var k=new Hb(this,b[e]);k.mk=e;this.q.push(k)}b=d[7];this.Jc=[];e=0;for(f=b.length;e<f;e++){var k=b[e],m=this.b.g[k[1]];m.Kb||(m.Kb=k);this.Jc.push(k);-1===this.Me.indexOf(m)&&this.Me.push(m)}this.p=
[];this.C=[];this.kc=!0;this.V=[];e=0;for(f=d[8].length;e<f;e++)this.p.push({id:d[8][e][0],name:d[8][e][1],ba:-1,Ab:!1,Va:!0,index:e}),this.V.push(d[8][e][2].slice(0));this.Eb();this.ee=new S(0,0,1,1);this.hi=new S(0,0,1,1);this.Rc={}}function k(a,d){return a.Fb-d.Fb}function q(a,d){this.ma=a;this.b=a.b;this.d=[];this.scale=1;this.k=0;this.Zb=!1;this.qc=new S(0,0,0,0);this.bl=new pa;this.K=this.I=this.L=this.H=0;this.Ad=!1;this.sc=-1;this.$g=0;this.name=d[0];this.index=d[1];this.D=d[2];this.visible=
d[3];this.tb=d[4];this.Db=d[5];this.Yd=d[6];this.Zd=d[7];this.opacity=d[8];this.Kf=d[9];this.gb=d[10];this.Ei=d[11];this.Aa=d[12];this.um=d[13];this.we="source-over";this.Ca=this.Ea=0;this.xa=null;this.gc=p();this.Cb=!0;this.Vd=new S(0,0,-1,-1);this.ra=new S(0,0,-1,-1);this.gb&&(this.xa=new Wa(this.b.ja,this.b.ia));this.Tb=!1;var b=d[14],e,f;this.Vk=[];this.$a=[];this.ze=[];e=0;for(f=b.length;e<f;e++){var k=b[e],m=this.b.g[k[1]];m.Kb||(m.Kb=k,m.Wl=this.index);this.$a.push(k);-1===this.ma.Me.indexOf(m)&&
this.ma.Me.push(m)}ta(this.Vk,this.$a);this.p=[];this.C=[];this.kc=!0;this.V=[];e=0;for(f=d[15].length;e<f;e++)this.p.push({id:d[15][e][0],name:d[15][e][1],ba:-1,Ab:!1,Va:!0,index:e}),this.V.push(d[15][e][2].slice(0));this.Eb();this.ee=new S(0,0,1,1);this.hi=new S(0,0,1,1)}function p(){return a.length?a.pop():[]}function u(c){U(c);a.push(c)}f.prototype.Io=function(a){var d=a.type.D.toString();this.Rc.hasOwnProperty(d)||(this.Rc[d]=[]);this.Rc[d].push(this.b.mi(a))};f.prototype.uj=function(){var a=
this.q[0];return!a.Db&&1===a.opacity&&!a.Kf&&a.visible};f.prototype.Eb=function(){U(this.C);this.kc=!0;var a,d,b;a=0;for(d=this.p.length;a<d;a++)b=this.p[a],b.Va&&(this.C.push(b),b.Ab||(this.kc=!1))};f.prototype.ph=function(a){var d,b,e;d=0;for(b=this.p.length;d<b;d++)if(e=this.p[d],e.name===a)return e;return null};var m=[],b=!0;f.prototype.oi=function(){this.Qk&&(this.dd=this.b.hh[this.Qk],this.dd.xi());this.b.J=this;this.width=this.no;this.height=this.mo;this.scrollX=this.b.ja/2;this.scrollY=this.b.ia/
2;var a,d,g,e,f,v,r;a=0;for(g=this.b.g.length;a<g;a++)if(d=this.b.g[a],!d.G)for(f=d.d,d=0,e=f.length;d<e;d++)if(v=f[d],v.e){var h=v.e.mk;h>=this.q.length&&(h=this.q.length-1);v.e=this.q[h];-1===v.e.d.indexOf(v)&&v.e.d.push(v);v.e.Ad=!0}if(!b)for(a=0,g=this.q.length;a<g;++a)this.q[a].d.sort(k);U(m);this.Pl();a=0;for(g=this.q.length;a<g;a++)v=this.q[a],v.Vl(),v.Hg();f=!1;if(!this.Od){for(r in this.Rc)if(this.Rc.hasOwnProperty(r)&&(d=this.b.Of(parseInt(r,10)))&&!d.G&&this.b.wi(d)){e=this.Rc[r];a=0;for(g=
e.length;a<g;a++){v=null;if(d.wa.Lc&&(v=this.Nf(e[a].w.l),!v))continue;v=this.b.Zc(d.Kb,v,!1,0,0,!0);this.b.fg(v,e[a]);f=!0;m.push(v)}U(e)}a=0;for(g=this.q.length;a<g;a++)this.q[a].d.sort(k),this.q[a].Ad=!0}f&&(this.b.za(),this.b.Ck());for(a=0;a<m.length;a++)if(v=m[a],v.type.bb)for(g=v.Ie(),d=0,e=v.type.Ma.length;d<e;d++)r=v.type.Ma[d],v.type!==r&&(r.d.length>g?v.siblings.push(r.d[g]):r.Kb&&(f=this.b.Zc(r.Kb,v.e,!0,v.x,v.y,!0),this.b.za(),r.Gg(),v.siblings.push(f),m.push(f)));a=0;for(g=this.Jc.length;a<
g;a++)v=this.Jc[a],d=this.b.g[v[1]],d.bb||this.b.Zc(this.Jc[a],null,!0);this.b.Yg=null;this.b.za();if(this.b.U&&!this.b.ab)for(a=0,g=this.b.g.length;a<g;a++)r=this.b.g[a],!r.G&&r.d.length&&r.uo&&r.uo(this.b.U);if(this.b.Oe)ta(this.b.Hf,m);else for(a=0,g=m.length;a<g;a++)v=m[a],this.b.trigger(Object.getPrototypeOf(v.type.wa).P.Fi,v);U(m);this.b.Oe||this.b.trigger(Z.prototype.P.Al,null);this.Od=!1};f.prototype.Ul=function(){var a,d,b,e,f;d=a=0;for(b=this.Jc.length;a<b;a++)e=this.Jc[a],f=this.b.g[e[1]],
f.global?f.bb||this.b.Zc(e,null,!0):(this.Jc[d]=e,d++);sa(this.Jc,d)};f.prototype.So=function(){this.b.Oe||this.b.trigger(Z.prototype.P.zl,null);this.b.Eh=!0;U(this.b.Wb.Ua);var a,d,g,e,f,k;if(!this.Od)for(a=0,d=this.q.length;a<d;a++)for(this.q[a].Ai(),f=this.q[a].d,g=0,e=f.length;g<e;g++)k=f[g],k.type.global||this.b.wi(k.type)&&this.Io(k);a=0;for(d=this.q.length;a<d;a++){f=this.q[a].d;g=0;for(e=f.length;g<e;g++)k=f[g],k.type.global||this.b.Bd(k);this.b.za();U(f);this.q[a].Ad=!0}a=0;for(d=this.b.g.length;a<
d;a++)if(f=this.b.g[a],!(f.global||f.wa.Lc||f.wa.yg||f.G)){g=0;for(e=f.d.length;g<e;g++)this.b.Bd(f.d[g]);this.b.za()}b=!1;this.b.Eh=!1};new S(0,0,0,0);f.prototype.Fc=function(a){var d,b=a,e=!1,f=!this.b.Ya;f&&(this.b.dg||(this.b.dg=document.createElement("canvas"),d=this.b.dg,d.width=this.b.n,d.height=this.b.m,this.b.Oj=d.getContext("2d"),e=!0),d=this.b.dg,b=this.b.Oj,d.width!==this.b.n&&(d.width=this.b.n,e=!0),d.height!==this.b.m&&(d.height=this.b.m,e=!0),e&&this.b.ug(b,this.b.fa));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.b.Yi&&!this.uj()&&b.clearRect(0,0,this.b.n,this.b.m);var k,m,e=0;for(k=this.q.length;e<k;e++)m=this.q[e],m.visible&&0<m.opacity&&11!==m.Aa&&(m.d.length||!m.Db)?m.Fc(b):m.Hg();f&&a.drawImage(d,0,0,this.b.width,this.b.height)};f.prototype.Ce=function(a){a.Mk(!0);this.b.aa||(this.b.aa=a.Xa(this.b.n,this.b.m,this.b.fa));if(this.b.aa.Jd!==this.b.n||this.b.aa.Id!==this.b.m)a.deleteTexture(this.b.aa),this.b.aa=a.Xa(this.b.n,this.b.m,this.b.fa);a.nb(this.b.aa);
this.b.Ya||a.xd(this.b.n,this.b.m);var d,b;for(d=this.q.length-1;0<=d;--d)b=this.q[d],b.visible&&1===b.opacity&&b.kc&&0===b.Aa&&(b.d.length||!b.Db)?b.Ce(a):b.Hg();a.Mk(!1)};f.prototype.Lb=function(a){var d=0<this.C.length||this.b.me||!this.b.Ya||this.b.M;if(d){this.b.aa||(this.b.aa=a.Xa(this.b.n,this.b.m,this.b.fa));if(this.b.aa.Jd!==this.b.n||this.b.aa.Id!==this.b.m)a.deleteTexture(this.b.aa),this.b.aa=a.Xa(this.b.n,this.b.m,this.b.fa);a.nb(this.b.aa);this.b.Ya||a.xd(this.b.n,this.b.m)}else this.b.aa&&
(a.nb(null),a.deleteTexture(this.b.aa),this.b.aa=null);this.b.Yi&&!this.uj()&&a.clear(0,0,0,0);var b,e,f;b=0;for(e=this.q.length;b<e;b++)f=this.q[b],f.visible&&0<f.opacity&&(f.d.length||!f.Db)?f.Lb(a):f.Hg();d&&(0===this.C.length||1===this.C.length&&this.b.Ya?(1===this.C.length?(d=this.C[0].index,a.Ka(this.C[0].ba),a.he(null,1/this.b.n,1/this.b.m,0,0,1,1,this.scale,this.k,0,0,this.b.n/2,this.b.m/2,this.b.ib.Ga,this.V[d]),a.pg(this.C[0].ba)&&(this.b.O=!0)):a.Ka(0),this.b.Ya||a.xd(this.b.width,this.b.height),
a.nb(null),a.Lk(!1),a.mf(1),a.ob(this.b.aa),a.Jk(),a.mb(),a.fb(),d=this.b.width/2,b=this.b.height/2,a.fi(-d,b,d,b,d,-b,-d,-b),a.ob(null),a.Lk(!0)):this.ii(a,null,null,null))};f.prototype.He=function(){return 0<this.C.length||this.b.me||!this.b.Ya||this.b.M?this.b.aa:null};f.prototype.rj=function(){var a=this.q[0].Pa(),d,b,e;d=1;for(b=this.q.length;d<b;d++)e=this.q[d],(0!==e.Yd||0!==e.Zd)&&e.Pa()<a&&(a=e.Pa());return a};f.prototype.Hk=function(a){if(!this.gl){var d=1/this.rj()*this.b.n/2;a>this.width-
d&&(a=this.width-d);a<d&&(a=d)}this.scrollX!==a&&(this.scrollX=a,this.b.O=!0)};f.prototype.Ik=function(a){if(!this.gl){var d=1/this.rj()*this.b.m/2;a>this.height-d&&(a=this.height-d);a<d&&(a=d)}this.scrollY!==a&&(this.scrollY=a,this.b.O=!0)};f.prototype.Pl=function(){this.Hk(this.scrollX);this.Ik(this.scrollY)};f.prototype.ii=function(a,d,b,e){var f=b?b.C:d?d.C:this.C,k=1,m=0,h=0,n=0,r=this.b.n,q=this.b.m;b?(k=b.e.Pa(),m=b.e.Oa(),h=b.e.H,n=b.e.I,r=b.e.L,q=b.e.K):d&&(k=d.Pa(),m=d.Oa(),h=d.H,n=d.I,
r=d.L,q=d.K);var p=this.b.nh,C,u,A,H,I=0,ea=1,t,w,R=this.b.n,M=this.b.m,wa=R/2,xa=M/2,D=d?d.ee:this.ee,F=d?d.hi:this.hi,J=0,P=0,G=0,E=0,L=R,ja=R,K=M,ka=M,ga=A=0;H=b?b.e.Oa():0;if(b){C=0;for(u=f.length;C<u;C++)A+=a.tn(f[C].ba),ga+=a.un(f[C].ba);E=b.qa;J=d.da(E.left,E.top,!0);G=d.da(E.left,E.top,!1);L=d.da(E.right,E.bottom,!0);K=d.da(E.right,E.bottom,!1);0!==H&&(C=d.da(E.right,E.top,!0),u=d.da(E.right,E.top,!1),P=d.da(E.left,E.bottom,!0),E=d.da(E.left,E.bottom,!1),H=Math.min(J,L,C,P),L=Math.max(J,L,
C,P),J=H,H=Math.min(G,K,u,E),K=Math.max(G,K,u,E),G=H);J-=A;G-=ga;L+=A;K+=ga;F.left=J/R;F.top=1-G/M;F.right=L/R;F.bottom=1-K/M;P=J=O(J);E=G=O(G);ja=L=na(L);ka=K=na(K);P-=A;E-=ga;ja+=A;ka+=ga;0>J&&(J=0);0>G&&(G=0);L>R&&(L=R);K>M&&(K=M);0>P&&(P=0);0>E&&(E=0);ja>R&&(ja=R);ka>M&&(ka=M);D.left=J/R;D.top=1-G/M;D.right=L/R;D.bottom=1-K/M}else D.left=F.left=0,D.top=F.top=0,D.right=F.right=1,D.bottom=F.bottom=1;ga=b&&(a.jf(f[0].ba)||0!==A||0!==ga||1!==b.opacity||b.type.wa.ik)||d&&!b&&1!==d.opacity;a.Jk();if(ga){p[I]||
(p[I]=a.Xa(R,M,this.b.fa));if(p[I].Jd!==R||p[I].Id!==M)a.deleteTexture(p[I]),p[I]=a.Xa(R,M,this.b.fa);a.Ka(0);a.nb(p[I]);w=ka-E;a.clearRect(P,M-E-w,ja-P,w);b?b.Lb(a):(a.ob(this.b.ea),a.mf(d.opacity),a.mb(),a.translate(-wa,-xa),a.fb(),a.de(J,K,L,K,L,G,J,G,D));F.left=F.top=0;F.right=F.bottom=1;b&&(H=D.top,D.top=D.bottom,D.bottom=H);I=1;ea=0}a.mf(1);A=f.length-1;var Ka=a.bi(f[A].ba)||!d&&!b&&!this.b.Ya;C=H=0;for(u=f.length;C<u;C++){p[I]||(p[I]=a.Xa(R,M,this.b.fa));if(p[I].Jd!==R||p[I].Id!==M)a.deleteTexture(p[I]),
p[I]=a.Xa(R,M,this.b.fa);a.Ka(f[C].ba);H=f[C].index;a.pg(f[C].ba)&&(this.b.O=!0);0!=C||ga?(a.he(e,1/R,1/M,F.left,F.top,F.right,F.bottom,k,m,h,n,(h+r)/2,(n+q)/2,this.b.ib.Ga,b?b.V[H]:d?d.V[H]:this.V[H]),a.ob(null),C!==A||Ka?(a.nb(p[I]),w=ka-E,t=M-E-w,a.clearRect(P,t,ja-P,w)):(b?a.Sc(b.Ea,b.Ca):d&&a.Sc(d.Ea,d.Ca),a.nb(e)),a.ob(p[ea]),a.mb(),a.translate(-wa,-xa),a.fb(),a.de(J,K,L,K,L,G,J,G,D),C!==A||Ka||a.ob(null)):(a.nb(p[I]),w=ka-E,t=M-E-w,a.clearRect(P,t,ja-P,w),b?(b.Be&&b.Be.pi?(t=b.Be.pi,ea=1/t.width,
t=1/t.height):(ea=1/b.width,t=1/b.height),a.he(e,ea,t,F.left,F.top,F.right,F.bottom,k,m,h,n,(h+r)/2,(n+q)/2,this.b.ib.Ga,b.V[H]),b.Lb(a)):(a.he(e,1/R,1/M,0,0,1,1,k,m,h,n,(h+r)/2,(n+q)/2,this.b.ib.Ga,d?d.V[H]:this.V[H]),a.ob(d?this.b.ea:this.b.aa),a.mb(),a.translate(-wa,-xa),a.fb(),a.de(J,K,L,K,L,G,J,G,D)),F.left=F.top=0,F.right=F.bottom=1,b&&!Ka&&(H=K,K=G,G=H));I=0===I?1:0;ea=0===I?1:0}Ka&&(a.Ka(0),b?a.Sc(b.Ea,b.Ca):d?a.Sc(d.Ea,d.Ca):this.b.Ya||(a.xd(this.b.width,this.b.height),wa=this.b.width/2,
xa=this.b.height/2,G=J=0,L=this.b.width,K=this.b.height),a.nb(e),a.ob(p[ea]),a.mb(),a.translate(-wa,-xa),a.fb(),b&&1===f.length&&!ga?a.de(J,G,L,G,L,K,J,K,D):a.de(J,K,L,K,L,G,J,G,D),a.ob(null))};f.prototype.Nf=function(a){var d,b;d=0;for(b=this.q.length;d<b;d++)if(this.q[d].D===a)return this.q[d];return null};f.prototype.Vb=function(){var a,d,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Od,persist:this.Rc,fx:[],layers:{}};a=0;for(d=this.p.length;a<d;a++)b=
this.p[a],e.fx.push({name:b.name,active:b.Va,params:this.V[b.index]});a=0;for(d=this.q.length;a<d;a++)b=this.q[a],e.layers[b.D.toString()]=b.Vb();return e};f.prototype.Nc=function(a){var d,b,e,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.Rc=a.persist;"undefined"!==typeof a.fv&&(this.Od=a.fv);var k=a.fx;d=0;for(b=k.length;d<b;d++)if(e=this.ph(k[d].name))e.Va=k[d].active,this.V[e.index]=k[d].params;this.Eb();d=a.layers;for(f in d)d.hasOwnProperty(f)&&
(a=this.Nf(parseInt(f,10)))&&a.Nc(d[f])};tb=f;q.prototype.Eb=function(){U(this.C);this.kc=!0;var a,d,b;a=0;for(d=this.p.length;a<d;a++)b=this.p[a],b.Va&&(this.C.push(b),b.Ab||(this.kc=!1))};q.prototype.ph=function(a){var d,b,e;d=0;for(b=this.p.length;d<b;d++)if(e=this.p[d],e.name===a)return e;return null};q.prototype.Vl=function(){var a,d,b,e,f,k;d=a=0;for(b=this.$a.length;a<b;a++){e=this.$a[a];f=this.b.g[e[1]];k=this.b.wi(f);f=!0;if(!k||this.ma.Od){e=this.b.Zc(e,this,!0);if(!e)continue;m.push(e);
e.type.global&&(f=!1,this.ze.push(e.uid))}f&&(this.$a[d]=this.$a[a],d++)}this.$a.length=d;this.b.za();!this.b.j&&this.p.length&&(this.Aa=this.um);this.we=Xa(this.Aa);this.b.i&&Ya(this,this.Aa,this.b.i);this.Cb=!0};q.prototype.fe=function(a,d){var b=va(this.d,a);0>b||(d&&this.gb&&a.Ja&&a.Ja.right>=a.Ja.left&&(a.ya(),this.xa.update(a,a.Ja,null),a.Ja.set(0,0,-1,-1)),b===this.d.length-1?this.d.pop():(ra(this.d,b),this.nf(b)),this.Cb=!0)};q.prototype.se=function(a,b){a.Fb=this.d.length;this.d.push(a);
b&&this.gb&&a.Ja&&a.pa();this.Cb=!0};q.prototype.wo=function(a){this.d.unshift(a);this.nf(0)};q.prototype.ho=function(a,b,e){var l=a.Nb();b=b.Nb();ra(this.d,l);l<b&&b--;e&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.nf(l<b?l:b)};q.prototype.nf=function(a){-1===this.sc?this.sc=a:a<this.sc&&(this.sc=a);this.Cb=this.Ad=!0};q.prototype.Ai=function(){if(this.Ad){-1===this.sc&&(this.sc=0);var a,b,e;if(this.gb)for(a=this.sc,b=this.d.length;a<b;++a)e=this.d[a],e.Fb=a,this.xa.eo(e.Ja);else for(a=
this.sc,b=this.d.length;a<b;++a)this.d[a].Fb=a;this.Ad=!1;this.sc=-1}};q.prototype.Pa=function(a){return this.rn()*(this.b.Ya||a?this.b.te:1)};q.prototype.rn=function(){return(this.scale*this.ma.scale-1)*this.Ei+1};q.prototype.Oa=function(){return this.Zb?0:Ca(this.ma.k+this.k)};var a=[],e=[],r=[];q.prototype.sh=function(){this.Ai();this.xa.Bk(this.H,this.I,this.L,this.K,r);if(!r.length)return p();if(1===r.length){var a=p();ta(a,r[0]);U(r);return a}for(var b=!0;1<r.length;){for(var a=r,g=void 0,l=
void 0,f=void 0,k=void 0,m=void 0,g=0,l=a.length;g<l-1;g+=2){var f=a[g],k=a[g+1],m=p(),h=f,n=k,q=m,B=0,Q=0,C=0,W=h.length,A=n.length,H=void 0,I=void 0;for(q.length=W+A;B<W&&Q<A;++C)H=h[B],I=n[Q],H.Fb<I.Fb?(q[C]=H,++B):(q[C]=I,++Q);for(;B<W;++B,++C)q[C]=h[B];for(;Q<A;++Q,++C)q[C]=n[Q];b||(u(f),u(k));e.push(m)}1===l%2&&(b?(f=p(),ta(f,a[l-1]),e.push(f)):e.push(a[l-1]));ta(a,e);U(e);b=!1}a=r[0];U(r);return a};q.prototype.Fc=function(a){this.Tb=this.Kf||1!==this.opacity||0!==this.Aa;var b=this.b.canvas,
e=a,l=!1;this.Tb&&(this.b.bg||(this.b.bg=document.createElement("canvas"),b=this.b.bg,b.width=this.b.n,b.height=this.b.m,this.b.Nj=b.getContext("2d"),l=!0),b=this.b.bg,e=this.b.Nj,b.width!==this.b.n&&(b.width=this.b.n,l=!0),b.height!==this.b.m&&(b.height=this.b.m,l=!0),l&&this.b.ug(e,this.b.fa),this.Db&&e.clearRect(0,0,this.b.n,this.b.m));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Db||(e.fillStyle="rgb("+this.tb[0]+","+this.tb[1]+","+this.tb[2]+")",e.fillRect(0,0,this.b.n,this.b.m));
e.save();this.Zb=!0;var l=this.Cc(!0),f=this.Cc(!1);this.Zb=!1;this.b.$d&&(l=Math.round(l),f=Math.round(f));this.sg(l,f,e);var k=this.Pa();e.scale(k,k);e.translate(-l,-f);this.gb?(this.ra.left=this.xa.Ha(this.H),this.ra.top=this.xa.Ia(this.I),this.ra.right=this.xa.Ha(this.L),this.ra.bottom=this.xa.Ia(this.K),this.Cb||!this.ra.De(this.Vd)?(u(this.gc),l=this.sh(),this.Cb=!1,this.Vd.xe(this.ra)):l=this.gc):l=this.d;for(var m,h=null,f=0,k=l.length;f<k;++f)m=l[f],m!==h&&(this.om(m,e),h=m);this.gb&&(this.gc=
l);e.restore();this.Tb&&(a.globalCompositeOperation=this.we,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};q.prototype.om=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var e=a.qa;e.right<this.H||e.bottom<this.I||e.left>this.L||e.top>this.K||(b.globalCompositeOperation=a.we,a.Fc(b))}};q.prototype.Hg=function(){this.Zb=!0;var a=this.Cc(!0),b=this.Cc(!1);this.Zb=!1;this.b.$d&&(a=Math.round(a),b=Math.round(b));this.sg(a,b,null)};q.prototype.sg=function(a,b,e){var l=this.Pa();this.H=a;
this.I=b;this.L=a+1/l*this.b.n;this.K=b+1/l*this.b.m;this.H>this.L&&(a=this.H,this.H=this.L,this.L=a);this.I>this.K&&(a=this.I,this.I=this.K,this.K=a);a=this.Oa();0!==a&&(e&&(e.translate(this.b.n/2,this.b.m/2),e.rotate(-a),e.translate(this.b.n/-2,this.b.m/-2)),this.qc.set(this.H,this.I,this.L,this.K),this.qc.offset((this.H+this.L)/-2,(this.I+this.K)/-2),this.bl.Ok(this.qc,a),this.bl.Ui(this.qc),this.qc.offset((this.H+this.L)/2,(this.I+this.K)/2),this.H=this.qc.left,this.I=this.qc.top,this.L=this.qc.right,
this.K=this.qc.bottom)};q.prototype.Ce=function(a){if(this.Tb=this.Kf){this.b.ea||(this.b.ea=a.Xa(this.b.n,this.b.m,this.b.fa));if(this.b.ea.Jd!==this.b.n||this.b.ea.Id!==this.b.m)a.deleteTexture(this.b.ea),this.b.ea=a.Xa(this.b.n,this.b.m,this.b.fa);a.nb(this.b.ea)}this.Zb=!0;var b=this.Cc(!0),e=this.Cc(!1);this.Zb=!1;this.b.$d&&(b=Math.round(b),e=Math.round(e));this.sg(b,e,null);b=this.Pa();a.mb();a.scale(b,b);a.tg(-this.Oa());a.translate((this.H+this.L)/-2,(this.I+this.K)/-2);a.fb();this.gb?(this.ra.left=
this.xa.Ha(this.H),this.ra.top=this.xa.Ia(this.I),this.ra.right=this.xa.Ha(this.L),this.ra.bottom=this.xa.Ia(this.K),this.Cb||!this.ra.De(this.Vd)?(u(this.gc),b=this.sh(),this.Cb=!1,this.Vd.xe(this.ra)):b=this.gc):b=this.d;for(var l,f=null,e=b.length-1;0<=e;--e)l=b[e],l!==f&&(this.qm(b[e],a),f=l);this.gb&&(this.gc=b);this.Db||(this.$g=this.b.bd++,a.vg(this.$g),a.Kk(1,1,1),a.lj(),a.Bo())};q.prototype.Lb=function(a){var b=0,e=0;if(this.Tb=this.Kf||1!==this.opacity||0<this.C.length||0!==this.Aa){this.b.ea||
(this.b.ea=a.Xa(this.b.n,this.b.m,this.b.fa));if(this.b.ea.Jd!==this.b.n||this.b.ea.Id!==this.b.m)a.deleteTexture(this.b.ea),this.b.ea=a.Xa(this.b.n,this.b.m,this.b.fa);a.nb(this.b.ea);this.Db&&a.clear(0,0,0,0)}this.Db||(this.b.M?(a.vg(this.$g),a.Kk(this.tb[0]/255,this.tb[1]/255,this.tb[2]/255),a.lj(),a.Mo()):a.clear(this.tb[0]/255,this.tb[1]/255,this.tb[2]/255,1));this.Zb=!0;var l=this.Cc(!0),b=this.Cc(!1);this.Zb=!1;this.b.$d&&(l=Math.round(l),b=Math.round(b));this.sg(l,b,null);l=this.Pa();a.mb();
a.scale(l,l);a.tg(-this.Oa());a.translate((this.H+this.L)/-2,(this.I+this.K)/-2);a.fb();this.gb?(this.ra.left=this.xa.Ha(this.H),this.ra.top=this.xa.Ia(this.I),this.ra.right=this.xa.Ha(this.L),this.ra.bottom=this.xa.Ia(this.K),this.Cb||!this.ra.De(this.Vd)?(u(this.gc),b=this.sh(),this.Cb=!1,this.Vd.xe(this.ra)):b=this.gc):b=this.d;var f,k,m=null,e=0;for(f=b.length;e<f;++e)k=b[e],k!==m&&(this.pm(b[e],a),m=k);this.gb&&(this.gc=b);this.Tb&&(b=this.C.length?this.C[0].ba:0,e=this.C.length?this.C[0].index:
0,0===this.C.length||1===this.C.length&&!a.bi(b)&&1===this.opacity?(1===this.C.length?(a.Ka(b),a.he(this.ma.He(),1/this.b.n,1/this.b.m,0,0,1,1,l,this.Oa(),this.H,this.I,(this.H+this.L)/2,(this.I+this.K)/2,this.b.ib.Ga,this.V[e]),a.pg(b)&&(this.b.O=!0)):a.Ka(0),a.nb(this.ma.He()),a.mf(this.opacity),a.ob(this.b.ea),a.Sc(this.Ea,this.Ca),a.mb(),a.fb(),l=this.b.n/2,b=this.b.m/2,a.fi(-l,b,l,b,l,-b,-l,-b),a.ob(null)):this.ma.ii(a,this,null,this.ma.He()))};q.prototype.pm=function(a,b){if(a.visible&&0!==
a.width&&0!==a.height){a.ya();var e=a.qa;e.right<this.H||e.bottom<this.I||e.left>this.L||e.top>this.K||(b.vg(a.bd),a.jl?this.rm(a,b):(b.Ka(0),b.Sc(a.Ea,a.Ca),a.Lb(b)))}};q.prototype.qm=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var e=a.qa;e.right<this.H||e.bottom<this.I||e.left>this.L||e.top>this.K||(a.bd=this.b.bd++,0===a.Aa&&1===a.opacity&&a.kc&&a.Ce&&(b.vg(a.bd),a.Ce(b)))}};q.prototype.rm=function(a,b){var e=a.C[0].ba,l=a.C[0].index,f=this.Pa();if(1!==a.C.length||b.bi(e)||b.yo(e)||
(a.k||a.e.Oa())&&b.jf(e)||1!==a.opacity||a.type.wa.ik)this.ma.ii(b,this,a,this.Tb?this.b.ea:this.ma.He()),b.mb(),b.scale(f,f),b.tg(-this.Oa()),b.translate((this.H+this.L)/-2,(this.I+this.K)/-2),b.fb();else{b.Ka(e);b.Sc(a.Ea,a.Ca);b.pg(e)&&(this.b.O=!0);var k=0,m=0,h=0,n=0;b.jf(e)&&(n=a.qa,k=this.da(n.left,n.top,!0),m=this.da(n.left,n.top,!1),h=this.da(n.right,n.bottom,!0),n=this.da(n.right,n.bottom,!1),k=k/windowWidth,m=1-m/windowHeight,h=h/windowWidth,n=1-n/windowHeight);var r;a.Be&&a.Be.pi?(r=a.Be.pi,
e=1/r.width,r=1/r.height):(e=1/a.width,r=1/a.height);b.he(this.Tb?this.b.ea:this.ma.He(),e,r,k,m,h,n,f,this.Oa(),this.H,this.I,(this.H+this.L)/2,(this.I+this.K)/2,this.b.ib.Ga,a.V[l]);a.Lb(b)}};q.prototype.Cc=function(a){var b=0,e=0,l=this.b.devicePixelRatio;this.b.Pd&&(b*=l,e*=l);var l=this.b.tk,f=this.b.uk,l=(this.ma.scrollX-l)*this.Yd+l,f=(this.ma.scrollY-f)*this.Zd+f,k,m,h=1/this.Pa(!1);k=l-this.b.n*h/2;m=f-this.b.m*h/2;k+=b*h;m+=e*h;e=this.Oa();0!==e&&(k-=l,m-=f,b=Math.cos(e),e=Math.sin(e),h=
k*b-m*e,m=m*b+k*e,k=h+l,m+=f);return a?k:m};q.prototype.da=function(a,b,e){var l=this.b.tk,f=this.b.uk,l=(this.ma.scrollX-l)*this.Yd+l,k=(this.ma.scrollY-f)*this.Zd+f,f=l,m=k,h=this.Oa();if(0!==h){a-=l;b-=k;var n=Math.cos(-h),h=Math.sin(-h),r=a*n-b*h;b=b*n+a*h;a=r+l;b+=k}l=1/this.Pa(!1);f-=this.b.n*l/2;m-=this.b.m*l/2;f=(a-f)/l;return e?f:(b-m)/l};q.prototype.Vb=function(){var a,b,e,f={s:this.scale,a:this.k,vl:this.H,vt:this.I,vr:this.L,vb:this.K,v:this.visible,bc:this.tb,t:this.Db,px:this.Yd,py:this.Zd,
o:this.opacity,zr:this.Ei,fx:[],cg:this.ze,instances:[]};a=0;for(b=this.p.length;a<b;a++)e=this.p[a],f.fx.push({name:e.name,active:e.Va,params:this.V[e.index]});return f};q.prototype.Nc=function(a){var b,e,f;this.scale=a.s;this.k=a.a;this.H=a.vl;this.I=a.vt;this.L=a.vr;this.K=a.vb;this.visible=a.v;this.tb=a.bc;this.Db=a.t;this.Yd=a.px;this.Zd=a.py;this.opacity=a.o;this.Ei=a.zr;this.ze=a.cg||[];ta(this.$a,this.Vk);var m=new ba;b=0;for(f=this.ze.length;b<f;++b)m.add(this.ze[b]);e=b=0;for(f=this.$a.length;b<
f;++b)m.contains(this.$a[b][2])||(this.$a[e]=this.$a[b],++e);sa(this.$a,e);e=a.fx;b=0;for(f=e.length;b<f;b++)if(a=this.ph(e[b].name))a.Va=e[b].active,this.V[a.index]=e[b].params;this.Eb();this.d.sort(k);this.Ad=!0};Hb=q})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function k(a,b){return a.index-b.index}function q(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);e=y[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function p(a,b){this.b=a;this.dl={};this.hj={};this.xh=!1;this.wj=new ba;this.eh=[];this.Og=[];this.name=b[0];var c=b[1];this.Gc=[];var d,e;d=0;for(e=c.length;d<e;d++)this.yj(c[d],null,this.Gc)}function u(a){this.type=a;this.d=[];this.F=[];this.oa=!0}function m(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Tc=[];this.vj=this.Eg=this.ri=this.zh=this.group=this.Uk=!1;this.Ba=[];this.sb=[];this.pb=[];this.Ke="";this.Je=this.zh=this.group=!1;this.zf=null;c[1]&&(this.Ke=c[1][1].toLowerCase(),
this.group=!0,this.zh=!!c[1][0],this.zf=[],this.Je=this.zh,this.b.Fd.push(this),this.b.Pf[this.Ke]=this);this.jc=c[2];this.D=c[4];this.group||(this.b.Ti[this.D.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Ib(this,d[a]);e.index=a;this.Ba.push(e);this.Ji(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Jb(this,d[a]),e.index=a,this.sb.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.yj(c[a],this,this.pb);this.Xf=!1;this.Ba.length&&(this.Xf=null==this.Ba[0].type&&
this.Ba[0].ta==Z.prototype.P.rl)}function b(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.bb))for(c=0,d=a.Ma.length;c<d;c++)e=a.Ma[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.Wa=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.W=[];this.Q={};this.index=-1;this.qe=!1;this.ta=this.b.tc(b[1]);this.trigger=0<b[3];this.gj=2===b[3];this.Ch=b[5];this.ao=b[6];this.D=b[7];this.b.Dc[this.D.toString()]=this;-1===b[0]?(this.type=null,this.ka=this.li,this.Yc=null,this.ub=-1):(this.type=this.b.g[b[0]],
this.ka=this.ao?this.Go:this.ki,b[2]?(this.Yc=this.type.Mf(b[2]),this.ub=this.type.oh(b[2])):(this.Yc=null,this.ub=-1),this.Wa.parent&&this.Wa.parent.wg());this.gj&&(this.ka=this.Ho);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Kb(this,e[c]);this.u.push(f)}this.W.length=e.length}}function e(a,b){this.Wa=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.W=[];this.Q={};this.index=-1;this.qe=!1;this.ta=this.b.tc(b[1]);-1===b[0]?(this.type=null,this.ka=this.li,this.Yc=null,this.ub=
-1):(this.type=this.b.g[b[0]],this.ka=this.ki,b[2]?(this.Yc=this.type.Mf(b[2]),this.ub=this.type.oh(b[2])):(this.Yc=null,this.ub=-1));this.D=b[3];this.b.vc[this.D.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Kb(this,e[c]);this.u.push(f)}this.W.length=e.length}}function r(){x++;v.length===x&&v.push(new Lb);return v[x]}function c(a,b){this.kb=a;this.Wa=a.Wa;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Mb=null;this.lc=0;this.get=null;this.$i=0;this.ma=null;
this.key=0;this.object=null;this.index=0;this.tf=this.yd=this.tf=this.yd=this.jj=this.ed=this.uf=null;this.rb=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Mb=new X(this,b[1]);this.lc=0;this.get=this.An;break;case 1:this.Mb=new X(this,b[1]);this.lc=0;this.get=this.Bn;break;case 5:this.Mb=new X(this,b[1]);this.lc=0;this.get=this.Fn;break;case 3:case 8:this.$i=b[1];this.get=this.yn;break;case 6:this.ma=this.b.Oh[b[1]];this.get=this.Gn;break;case 9:this.key=b[1];this.get=this.En;break;case 4:this.object=
this.b.g[b[1]];this.get=this.Hn;this.Wa.Ji(this.object);this.kb instanceof Jb?this.Wa.wg():this.Wa.parent&&this.Wa.parent.wg();break;case 10:this.index=b[1];a.type&&a.type.G?(this.get=this.Cn,this.rb=!0):this.get=this.Dn;break;case 11:this.uf=b[1];this.ed=null;this.get=this.zn;break;case 2:case 12:this.jj=b[1];this.get=this.xn;break;case 13:for(this.get=this.In,this.yd=[],this.tf=[],c=1,d=b.length;c<d;c++)e=new Kb(this.kb,b[c]),this.yd.push(e),this.tf.push(0)}}function d(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.Z=[];this.name=c[1];this.yh=c[3];this.Se=!!c[4];this.Wf=!!c[5];this.D=c[6];this.b.oe[this.D.toString()]=this;this.data=this.yh;this.parent?(this.ud=this.Se||this.Wf?-1:this.b.Ro++,this.b.Jl.push(this)):(this.ud=-1,this.b.Il.push(this))}function g(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Le=null;this.Nn=c[1];this.Va=!0}function l(){this.Wk=[];this.reset(null)}var y=[];p.prototype.toString=function(){return this.name};p.prototype.yj=function(a,b,c){switch(a[0]){case 0:a=
new Mb(this,b,a);if(a.jc)for(c.push(a),c=0,b=a.Ba.length;c<b;c++)a.Ba[c].trigger&&this.zj(a,c);else a.Hj()?this.zj(a,0):c.push(a);break;case 1:a=new Eb(this,b,a);c.push(a);break;case 2:a=new Nb(this,b,a),c.push(a)}};p.prototype.Y=function(){var a,b;a=0;for(b=this.Gc.length;a<b;a++)this.Gc[a].Y(a<b-1&&this.Gc[a+1].Xf)};p.prototype.xi=function(){U(this.eh);U(this.Og);this.Ii(this);U(this.Og)};p.prototype.Ii=function(a){var b,c,d,e,f=a.eh,l=a.Og,g=this.wj.zd();b=0;for(c=g.length;b<c;++b)d=g[b],e=d.Le,
!d.Va||a===e||-1<l.indexOf(e)||(l.push(e),e.Ii(a),f.push(e))};p.prototype.ka=function(a){this.b.Bq||(this.xh=!0,a||(this.b.Hh=!0));var b,c;b=0;for(c=this.Gc.length;b<c;b++){var d=this.Gc[b];d.ka();this.b.Zg(d.Z);this.b.Ic&&this.b.za()}a||(this.b.Hh=!1)};p.prototype.zj=function(a,b){a.jc||this.b.Fg.push(a);var c,d,e=a.Ba[b],f;e.type?f=e.type.name:f="system";var l=(c=e.gj)?this.hj:this.dl;l[f]||(l[f]=[]);f=l[f];l=e.ta;if(c){if(e.u.length&&(e=e.u[0],1===e.type&&2===e.Mb.type)){e=e.Mb.value.toLowerCase();
c=0;for(d=f.length;c<d;c++)if(f[c].method==l){c=f[c].Fe;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:l,Fe:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==l){f[c].Fe.push([a,b]);return}Pb.Dl&&l===Pb.Dl.prototype.P.Mp?f.unshift({method:l,Fe:[[a,b]]}):f.push({method:l,Fe:[[a,b]]})}};ub=p;u.prototype.tj=function(){return this.oa?this.type.d.length:this.d.length};u.prototype.wb=function(){return this.oa?this.type.d:this.d};u.prototype.hf=function(a){a&&(a.b.Za().Jb.jc?
(this.oa&&(U(this.d),ta(this.F,a.type.d),this.oa=!1),a=this.F.indexOf(a),-1!==a&&(this.d.push(this.F[a]),this.F.splice(a,1))):(this.oa=!1,U(this.d),this.d[0]=a))};db=u;window._c2hh_="521D5192DA686C3EF861A8E9883DDFF3FD363716";m.prototype.Y=function(a){var b,c=this.parent;if(this.group)for(this.Eg=!0;c;){if(!c.group){this.Eg=!1;break}c=c.parent}this.ri=!this.Hj()&&(!this.parent||this.parent.group&&this.parent.Eg);this.vj=!!a;this.Tc=this.Z.slice(0);for(c=this.parent;c;){a=0;for(b=c.Z.length;a<b;a++)this.Hl(c.Z[a]);
c=c.parent}this.Z=q(this.Z);this.Tc=q(this.Tc);a=0;for(b=this.Ba.length;a<b;a++)this.Ba[a].Y();a=0;for(b=this.sb.length;a<b;a++)this.sb[a].Y();a=0;for(b=this.pb.length;a<b;a++)this.pb[a].Y(a<b-1&&this.pb[a+1].Xf)};m.prototype.Ko=function(a){if(this.Je!==!!a){this.Je=!!a;var b;a=0;for(b=this.zf.length;a<b;++a)this.zf[a].il();0<b&&this.b.J.dd&&this.b.J.dd.xi()}};m.prototype.Ji=function(a){b(a,this.Z)};m.prototype.Hl=function(a){b(a,this.Tc)};m.prototype.wg=function(){this.Uk=!0;this.parent&&this.parent.wg()};
m.prototype.Hj=function(){return this.Ba.length?this.Ba[0].trigger:!1};m.prototype.ka=function(){var a,b,c=!1,e=this.b,d=this.b.Za();d.Jb=this;var f=this.Ba;this.Xf||(d.fh=!1);if(this.jc){0===f.length&&(c=!0);d.La=0;for(a=f.length;d.La<a;d.La++)b=f[d.La],b.trigger||(b=b.ka())&&(c=!0);(d.qd=c)&&this.ji()}else{d.La=0;for(a=f.length;d.La<a;d.La++)if(b=f[d.La].ka(),!b){d.qd=!1;this.ri&&e.Ic&&e.za();return}d.qd=!0;this.ji()}this.xm(d)};m.prototype.xm=function(a){a.qd&&this.vj&&(a.fh=!0);this.ri&&this.b.Ic&&
this.b.za()};m.prototype.Eo=function(a){this.b.Za().Jb=this;this.Ba[a].ka()&&(this.ji(),this.b.Za().qd=!0)};m.prototype.ji=function(){var a=this.b.Za(),b;a.hb=0;for(b=this.sb.length;a.hb<b;a.hb++)if(this.sb[a.hb].ka())return;this.Fk()};m.prototype.Co=function(){var a=this.b.Za(),b;for(b=this.sb.length;a.hb<b;a.hb++)if(this.sb[a.hb].ka())return;this.Fk()};m.prototype.Fk=function(){if(this.pb.length){var a,b,c,d,e=this.pb.length-1;this.b.di(this);if(this.Uk)for(a=0,b=this.pb.length;a<b;a++)c=this.pb[a],
(d=!this.Eg||!this.group&&a<e)&&this.b.ci(c.Z),c.ka(),d?this.b.ae(c.Z):this.b.Zg(c.Z);else for(a=0,b=this.pb.length;a<b;a++)this.pb[a].ka();this.b.wk()}};m.prototype.Fo=function(){var a=this.b.Za();a.Jb=this;var b=!1,c;a.La=0;for(c=this.Ba.length;a.La<c;a.La++)if(this.Ba[a.La].ka())b=!0;else if(!this.jc)return!1;return this.jc?b:!0};m.prototype.Wn=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ba[b].type===a.type)return!1;return!0};Mb=m;a.prototype.Y=function(){var a,b,c;a=0;
for(b=this.u.length;a<b;a++)c=this.u[a],c.Y(),c.rb&&(this.qe=!0)};a.prototype.Ho=function(){return!0};a.prototype.li=function(){var a,b;a=0;for(b=this.u.length;a<b;a++)this.W[a]=this.u[a].get();return La(this.ta.apply(this.b.Wb,this.W),this.Ch)};a.prototype.Go=function(){var a,b;a=0;for(b=this.u.length;a<b;a++)this.W[a]=this.u[a].get();a=this.ta.apply(this.Yc?this.Yc:this.type,this.W);this.type.Gd();return a};a.prototype.ki=function(){var a,b,c,d,e,f,l,g,k=this.type,m=k.S(),r=this.Wa.jc&&!this.trigger;
b=0;var q=k.bb,p=k.G,v=k.ac,y=this.ub,x=-1<y,u=this.qe,D=this.u,F=this.W,J=this.Ch,P=this.ta,G;if(u)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb||(F[b]=f.get(0));else for(b=0,e=D.length;b<e;++b)F[b]=D[b].get(0);if(m.oa){U(m.d);U(m.F);G=k.d;a=0;for(d=G.length;a<d;++a){g=G[a];if(u)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb&&(F[b]=f.get(a));x?(b=0,p&&(b=g.type.Nd[v]),b=P.apply(g.B[y+b],F)):b=P.apply(g,F);(l=La(b,J))?m.d.push(g):r&&m.F.push(g)}k.finish&&k.finish(!0);m.oa=!1;k.Gd();return m.tj()}c=0;G=(l=r&&!this.Wa.Wn(this))?
m.F:m.d;var E=!1;a=0;for(d=G.length;a<d;++a){g=G[a];if(u)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb&&(F[b]=f.get(a));x?(b=0,p&&(b=g.type.Nd[v]),b=P.apply(g.B[y+b],F)):b=P.apply(g,F);if(La(b,J))if(E=!0,l){if(m.d.push(g),q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.S().d.push(f)}else{G[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.S().d[c]=f;c++}else if(l){G[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.S().F[c]=f;c++}else if(r&&(m.F.push(g),
q))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.S().F.push(f)}sa(G,c);if(q)for(p=k.Ma,a=0,d=p.length;a<d;a++)g=p[a].S(),l?sa(g.F,c):sa(g.d,c);c=E;if(l&&!E)for(a=0,d=m.d.length;a<d;a++){g=m.d[a];if(u)for(b=0,e=D.length;b<e;b++)f=D[b],f.rb&&(F[b]=f.get(a));b=x?P.apply(g.B[y],F):P.apply(g,F);if(La(b,J)){E=!0;break}}k.finish&&k.finish(c||r);return r?E:m.tj()};Ib=a;e.prototype.Y=function(){var a,b,c;a=0;for(b=this.u.length;a<b;a++)c=this.u[a],c.Y(),c.rb&&(this.qe=!0)};e.prototype.li=function(){var a=
this.b,b,c,d=this.u,e=this.W;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.ta.apply(a.Wb,e)};e.prototype.ki=function(){var a=this.type,b=this.ub,c=a.ac,d=this.qe,e=this.u,f=this.W,l=this.ta,g=a.S().wb(),a=a.G,k=-1<b,m,r,q,p,v,y;if(d)for(r=0,p=e.length;r<p;++r)v=e[r],v.rb||(f[r]=v.get(0));else for(r=0,p=e.length;r<p;++r)f[r]=e[r].get(0);m=0;for(q=g.length;m<q;++m){y=g[m];if(d)for(r=0,p=e.length;r<p;++r)v=e[r],v.rb&&(f[r]=v.get(m));k?(r=0,a&&(r=y.type.Nd[c]),l.apply(y.B[b+r],f)):l.apply(y,
f)}return!1};Jb=e;var v=[],x=-1;c.prototype.Y=function(){var a,b;if(11===this.type)this.ed=this.b.oj(this.uf,this.Wa.parent);else if(13===this.type)for(a=0,b=this.yd.length;a<b;a++)this.yd[a].Y();this.Mb&&this.Mb.Y()};c.prototype.fo=function(a){this.rb||!a||a.wa.yg||(this.rb=!0)};c.prototype.Nk=function(){this.rb=!0};c.prototype.An=function(a){this.lc=a||0;a=r();this.Mb.get(a);x--;return a.data};c.prototype.Bn=function(a){this.lc=a||0;a=r();this.Mb.get(a);x--;return N(a.data)?a.data:""};c.prototype.Hn=
function(){return this.object};c.prototype.yn=function(){return this.$i};c.prototype.Fn=function(a){this.lc=a||0;a=r();this.Mb.get(a);x--;return a.la()?this.b.qn(a.data):this.b.pn(a.data)};c.prototype.Gn=function(){return this.ma};c.prototype.En=function(){return this.key};c.prototype.Dn=function(){return this.index};c.prototype.Cn=function(a){a=a||0;var b=this.kb.type,c=null,c=b.S(),e=c.wb();if(e.length)c=e[a%e.length].type;else if(c.F.length)c=c.F[a%c.F.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;
else return 0;return this.index+c.Gf[b.ac]};c.prototype.zn=function(){return this.ed};c.prototype.xn=function(){return this.jj};c.prototype.In=function(){var a,b;a=0;for(b=this.yd.length;a<b;a++)this.tf[a]=this.yd[a].get();return this.tf};Kb=c;d.prototype.Y=function(){this.Z=q(this.Z)};d.prototype.No=function(a){var b=this.b.nj();this.parent&&!this.Se&&b?(this.ud>=b.length&&(b.length=this.ud+1),b[this.ud]=a):this.data=a};d.prototype.wn=function(){var a=this.b.nj();return!this.parent||this.Se||!a||
this.Wf?this.data:this.ud>=a.length||"undefined"===typeof a[this.ud]?this.yh:a[this.ud]};d.prototype.ka=function(){!this.parent||this.Se||this.Wf||this.No(this.yh)};Eb=d;g.prototype.toString=function(){return"include:"+this.Le.toString()};g.prototype.Y=function(){this.Le=this.b.hh[this.Nn];this.sheet.wj.add(this);this.Z=q(this.Z);for(var a=this.parent;a;)a.group&&a.zf.push(this),a=a.parent;this.il()};g.prototype.ka=function(){this.parent&&this.b.lf(this.b.g);this.Le.xh||this.Le.ka(!0);this.parent&&
this.b.ae(this.b.g)};g.prototype.il=function(){for(var a=this.parent;a;){if(a.group&&!a.Je){this.Va=!1;return}a=a.parent}this.Va=!0};Nb=g;l.prototype.reset=function(a){this.Jb=a;this.hb=this.La=0;U(this.Wk);this.fh=this.qd=!1};Db=l})();
(function(){function f(b,a){this.kb=b;this.b=b.b;this.type=a[0];this.get=[this.Pm,this.Lm,this.Ym,this.an,this.Am,this.Zm,this.Tm,this.Im,this.Sm,this.Xm,this.Bm,this.Wm,this.Jm,this.Um,this.Qm,this.Rm,this.Mm,this.Nm,this.Hm,this.$m,this.Vm,this.Om,this.Gm,this.Km][this.type];var e=null;this.hc=this.u=this.W=this.ta=this.Dg=this.second=this.first=this.value=null;this.ub=-1;this.xb=null;this.kl=-1;this.ed=this.uf=null;this.ge=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new X(b,a[1]);break;case 18:this.first=new X(b,a[1]);this.second=new X(b,a[2]);this.Dg=new X(b,a[3]);break;case 19:this.ta=this.b.tc(a[1]);this.ta!==Z.prototype.fd.random&&this.ta!==Z.prototype.fd.Sl||this.kb.Nk();this.W=[];this.u=[];3===a.length?(e=a[2],this.W.length=e.length+1):this.W.length=1;break;case 20:this.hc=this.b.g[a[1]];this.ub=-1;this.ta=this.b.tc(a[2]);this.ge=a[3];Pb.Function&&this.ta===Pb.Function.prototype.fd.op&&this.kb.Nk();a[4]?this.xb=new X(b,a[4]):this.xb=null;this.W=[];this.u=
[];6===a.length?(e=a[5],this.W.length=e.length+1):this.W.length=1;break;case 21:this.hc=this.b.g[a[1]];this.ge=a[2];a[3]?this.xb=new X(b,a[3]):this.xb=null;this.kl=a[4];break;case 22:this.hc=this.b.g[a[1]];this.hc.Mf(a[2]);this.ub=this.hc.oh(a[2]);this.ta=this.b.tc(a[3]);this.ge=a[4];a[5]?this.xb=new X(b,a[5]):this.xb=null;this.W=[];this.u=[];7===a.length?(e=a[6],this.W.length=e.length+1):this.W.length=1;break;case 23:this.uf=a[1],this.ed=null}this.kb.fo(this.hc);4<=this.type&&17>=this.type&&(this.first=
new X(b,a[1]),this.second=new X(b,a[2]));if(e){var f,c;f=0;for(c=e.length;f<c;f++)this.u.push(new X(b,e[f]))}}function k(){++m;u.length===m&&u.push(new Lb);return u[m]}function q(b,a,e){var f,c;f=0;for(c=b.length;f<c;++f)b[f].get(e),a[f+1]=e.data}function p(b,a){this.type=b||Y.Ed;this.data=a||0;this.wd=null;this.type==Y.Ed&&(this.data=Math.floor(this.data))}f.prototype.Y=function(){23===this.type&&(this.ed=this.kb.b.oj(this.uf,this.kb.Wa.parent));this.first&&this.first.Y();this.second&&this.second.Y();
this.Dg&&this.Dg.Y();this.xb&&this.xb.Y();if(this.u){var b,a;b=0;for(a=this.u.length;b<a;b++)this.u[b].Y()}};var u=[],m=-1;f.prototype.$m=function(b){var a=this.u,e=this.W;e[0]=b;b=k();q(a,e,b);--m;this.ta.apply(this.b.Wb,e)};f.prototype.Vm=function(b){var a=this.hc,e=this.W,f=this.u,c=this.xb,d=this.ta,g=this.kb.lc,l=a.S(),p=l.wb();if(!p.length)if(l.F.length)p=l.F;else{this.ge?b.Sa(""):b.N(0);return}e[0]=b;b.wd=a;b=k();q(f,e,b);c&&(c.get(b),b.la()&&(g=b.data,p=a.d));--m;a=p.length;if(g>=a||g<=-a)g%=
a;0>g&&(g+=a);d.apply(p[g],e)};f.prototype.Gm=function(b){var a=this.hc,e=this.W,f=this.u,c=this.xb,d=this.ub,g=this.ta,l=this.kb.lc,p=a.S(),v=p.wb();if(!v.length)if(p.F.length)v=p.F;else{this.ge?b.Sa(""):b.N(0);return}e[0]=b;b.wd=a;b=k();q(f,e,b);c&&(c.get(b),b.la()&&(l=b.data,v=a.d));--m;f=v.length;if(l>=f||l<=-f)l%=f;0>l&&(l+=f);l=v[l];v=0;a.G&&(v=l.type.Nd[a.ac]);g.apply(l.B[d+v],e)};f.prototype.Om=function(b){var a=this.xb,e=this.hc,f=this.kl,c=this.kb.lc,d=e.S(),g=d.wb();if(!g.length)if(d.F.length)g=
d.F;else{this.ge?b.Sa(""):b.N(0);return}if(a){d=k();a.get(d);if(d.la()){c=d.data;g=e.d;0!==g.length&&(c%=g.length,0>c&&(c+=g.length));c=e.rh(c);e=c.ca[f];N(e)?b.Sa(e):b.A(e);--m;return}--m}a=g.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=g[c];g=0;e.G&&(g=c.type.Gf[e.ac]);e=c.ca[f+g];N(e)?b.Sa(e):b.A(e)};f.prototype.Pm=function(b){b.type=Y.Ed;b.data=this.value};f.prototype.Lm=function(b){b.type=Y.Cd;b.data=this.value};f.prototype.Ym=function(b){b.type=Y.String;b.data=this.value};f.prototype.an=function(b){this.first.get(b);
b.la()&&(b.data=-b.data)};f.prototype.Am=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data+=a.data,a.Qd()&&b.Xd());--m};f.prototype.Zm=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data-=a.data,a.Qd()&&b.Xd());--m};f.prototype.Tm=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data*=a.data,a.Qd()&&b.Xd());--m};f.prototype.Im=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data/=
a.data,b.Xd());--m};f.prototype.Sm=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data%=a.data,a.Qd()&&b.Xd());--m};f.prototype.Xm=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data=Math.pow(b.data,a.data),a.Qd()&&b.Xd());--m};f.prototype.Bm=function(b){this.first.get(b);var a=k();this.second.get(a);a.Sd()||b.Sd()?this.Dm(b,a):this.Cm(b,a);--m};f.prototype.Dm=function(b,a){b.Sd()&&a.Sd()?this.Fm(b,a):this.Em(b,a)};f.prototype.Fm=function(b,
a){b.data+=a.data};f.prototype.Em=function(b,a){b.Sd()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Sa(b.data.toString()+a.data)};f.prototype.Cm=function(b,a){b.N(b.data&&a.data?1:0)};f.prototype.Wm=function(b){this.first.get(b);var a=k();this.second.get(a);b.la()&&a.la()&&(b.data||a.data?b.N(1):b.N(0));--m};f.prototype.Hm=function(b){this.first.get(b);b.data?this.second.get(b):this.Dg.get(b)};f.prototype.Jm=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data===a.data?1:0);
--m};f.prototype.Um=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data!==a.data?1:0);--m};f.prototype.Qm=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data<a.data?1:0);--m};f.prototype.Rm=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data<=a.data?1:0);--m};f.prototype.Mm=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data>a.data?1:0);--m};f.prototype.Nm=function(b){this.first.get(b);var a=k();this.second.get(a);b.N(b.data>=
a.data?1:0);--m};f.prototype.Km=function(b){var a=this.ed.wn();ha(a)?b.A(a):b.Sa(a)};X=f;p.prototype.Qd=function(){return this.type===Y.Cd};p.prototype.la=function(){return this.type===Y.Ed||this.type===Y.Cd};p.prototype.Sd=function(){return this.type===Y.String};p.prototype.Xd=function(){this.Qd()||(this.Sd()&&(this.data=parseFloat(this.data)),this.type=Y.Cd)};p.prototype.N=function(b){this.type=Y.Ed;this.data=Math.floor(b)};p.prototype.A=function(b){this.type=Y.Cd;this.data=b};p.prototype.Sa=function(b){this.type=
Y.String;this.data=b};p.prototype.Oo=function(b){ha(b)?(this.type=Y.Cd,this.data=b):N(b)?(this.type=Y.String,this.data=b.toString()):(this.type=Y.Ed,this.data=0)};Lb=p;Y={Ed:0,Cd:1,String:2}})();function Z(f){this.b=f;this.Ua=[]}
Z.prototype.Vb=function(){var f={},k,q,p,u,m,b,a,e;f.waits=[];var r=f.waits,c;k=0;for(q=this.Ua.length;k<q;k++){b=this.Ua[k];c={t:b.time,st:b.Qo,s:b.Rk,ev:b.Ee.D,sm:[],sols:{}};b.Ee.sb[b.hb]&&(c.act=b.Ee.sb[b.hb].D);p=0;for(u=b.Z.length;p<u;p++)c.sm.push(b.Z[p].D);for(m in b.Ta)if(b.Ta.hasOwnProperty(m)){a=this.b.g[parseInt(m,10)];e={sa:b.Ta[m].Gk,insts:[]};p=0;for(u=b.Ta[m].kd.length;p<u;p++)e.insts.push(b.Ta[m].kd[p].uid);c.sols[a.D.toString()]=e}r.push(c)}return f};
Z.prototype.Nc=function(f){f=f.waits;var k,q,p,u,m,b,a,e,r,c,d;U(this.Ua);k=0;for(q=f.length;k<q;k++)if(b=f[k],e=this.b.Ti[b.ev.toString()]){r=-1;p=0;for(u=e.sb.length;p<u;p++)if(e.sb[p].D===b.act){r=p;break}if(-1!==r){a={Ta:{},Z:[],cj:!1};a.time=b.t;a.Qo=b.st||"";a.Rk=!!b.s;a.Ee=e;a.hb=r;p=0;for(u=b.sm.length;p<u;p++)(e=this.b.Of(b.sm[p]))&&a.Z.push(e);for(m in b.sols)if(b.sols.hasOwnProperty(m)&&(e=this.b.Of(parseInt(m,10)))){r=b.sols[m];c={Gk:r.sa,kd:[]};p=0;for(u=r.insts.length;p<u;p++)(d=this.b.sj(r.insts[p]))&&
c.kd.push(d);a.Ta[e.index.toString()]=c}this.Ua.push(a)}}};
(function(){function f(){}function k(){}var q=Z.prototype;f.prototype.Al=function(){return!0};f.prototype.zl=function(){return!0};f.prototype.rl=function(){var f=this.b.Za();return f.fh?!1:!f.qd};f.prototype.Gi=function(){return!0};f.prototype.xl=function(){return!0};f.prototype.Mg=function(){return!0};f.prototype.Hi=function(){return!0};f.prototype.Bl=function(){return!0};f.prototype.xf=function(){return!0};f.prototype.nl=function(f,b,a){return Ga(V(f),V(a))<=V(b)};f.prototype.tl=function(f,b){return Ia(V(f),
V(b))};f.prototype.sl=function(f,b,a){f=Ea(f);b=Ea(b);a=Ea(a);return Ia(a,b)?Ia(f,b)&&!Ia(f,a):!(!Ia(f,b)&&Ia(f,a))};q.P=new f;var p=[],u=[];q.pe=new function(){};k.prototype["int"]=function(f,b){N(b)?(f.N(parseInt(b,10)),isNaN(f.data)&&(f.data=0)):f.N(b)};k.prototype["float"]=function(f,b){N(b)?(f.A(parseFloat(b)),isNaN(f.data)&&(f.data=0)):f.A(b)};k.prototype.random=function(f,b,a){void 0===a?f.A(Math.random()*b):f.A(Math.random()*(a-b)+b)};k.prototype.sqrt=function(f,b){f.A(Math.sqrt(b))};k.prototype.abs=
function(f,b){f.A(Math.abs(b))};k.prototype.round=function(f,b){f.N(Math.round(b))};k.prototype.floor=function(f,b){f.N(Math.floor(b))};k.prototype.ceil=function(f,b){f.N(Math.ceil(b))};k.prototype.sin=function(f,b){f.A(Math.sin(V(b)))};k.prototype.cos=function(f,b){f.A(Math.cos(V(b)))};k.prototype.tan=function(f,b){f.A(Math.tan(V(b)))};k.prototype.asin=function(f,b){f.A(Aa(Math.asin(b)))};k.prototype.acos=function(f,b){f.A(Aa(Math.acos(b)))};k.prototype.atan=function(f,b){f.A(Aa(Math.atan(b)))};
k.prototype.exp=function(f,b){f.A(Math.exp(b))};k.prototype.log10=function(f,b){f.A(Math.log(b)/Math.LN10)};k.prototype.max=function(f){var b=arguments[1];"number"!==typeof b&&(b=0);var a,e,k;a=2;for(e=arguments.length;a<e;a++)k=arguments[a],"number"===typeof k&&b<k&&(b=k);f.A(b)};k.prototype.min=function(f){var b=arguments[1];"number"!==typeof b&&(b=0);var a,e,k;a=2;for(e=arguments.length;a<e;a++)k=arguments[a],"number"===typeof k&&b>k&&(b=k);f.A(b)};k.prototype.Ld=function(f){f.A(this.b.Ld)};k.prototype.sf=
function(f){f.A(this.b.sf)};k.prototype.time=function(f){f.A(this.b.ib.Ga)};k.prototype.nc=function(f){f.N(this.b.nc)};k.prototype.ng=function(f){f.N(this.b.ng)};k.prototype.mh=function(f){f.N(this.b.mh)};k.prototype.k=function(f,b,a,e,k){f.A(Aa(Fa(b,a,e,k)))};k.prototype.left=function(f,b,a){f.Sa(N(b)?b.substr(0,a):"")};k.prototype.right=function(f,b,a){f.Sa(N(b)?b.substr(b.length-a):"")};k.prototype.replace=function(f,b,a,e){N(b)&&N(a)&&N(e)?f.Sa(b.replace(new RegExp(Ta(a),"gi"),e)):f.Sa(N(b)?b:
"")};k.prototype.trim=function(f,b){f.Sa(N(b)?b.trim():"")};k.prototype.Sl=function(f){var b=O(Math.random()*(arguments.length-1));f.Oo(arguments[b+1])};k.prototype.ah=function(f){f.A(this.b.ah/1E3)};k.prototype.gg=function(f){f.A(this.b.gg)};q.fd=new k;q.Do=function(){var f,b,a,e,k,c,d=this.b.Za();f=0;for(a=this.Ua.length;f<a;f++){e=this.Ua[f];if(-1===e.time){if(!e.Rk)continue}else if(e.time>this.b.ib.Ga)continue;d.Jb=e.Ee;d.hb=e.hb;d.La=0;for(b in e.Ta)e.Ta.hasOwnProperty(b)&&(k=this.b.g[parseInt(b,
10)].S(),c=e.Ta[b],k.oa=c.Gk,ta(k.d,c.kd),k=c,U(k.kd),u.push(k));e.Ee.Co();this.b.Zg(e.Z);e.cj=!0}b=f=0;for(a=this.Ua.length;f<a;f++)e=this.Ua[f],this.Ua[b]=e,e.cj?(Na(e.Ta),U(e.Z),p.push(e)):b++;sa(this.Ua,b)}})();
(function(){cb=function(f,q){var p=f[1],u=f[3],m=f[4],b=f[5],a=f[6],e=f[7],r=f[8];q.P||(q.P={});q.pe||(q.pe={});q.fd||(q.fd={});var c=q.P,d=q.pe,g=q.fd;u&&(c.tp=function(a,b){return Ob(this.x,a,b)},c.up=function(a,b){return Ob(this.y,a,b)},c.Bp=function(){var a=this.e;this.ya();var b=this.qa;return!(b.right<a.H||b.bottom<a.I||b.left>a.L||b.top>a.K)},c.Cp=function(){this.ya();var a=this.qa,b=this.b.J;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Pp=function(a,b,c){var e=this.S(),
d=e.wb();if(!d.length)return!1;var f=d[0],g=f,k=Ja(f.x,f.y,b,c),m,r,p;m=1;for(r=d.length;m<r;m++)if(f=d[m],p=Ja(f.x,f.y,b,c),0===a&&p<k||1===a&&p>k)k=p,g=f;e.hf(g);return!0},d.jq=function(a){this.x!==a&&(this.x=a,this.pa())},d.kq=function(a){this.y!==a&&(this.y=a,this.pa())},d.dq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.pa()},d.fq=function(a,b){var c=a.sn(this);if(c){var e;c.pj?(e=c.pj(b,!0),c=c.pj(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.pa()}},
d.Hp=function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.pa())},d.Gp=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.pa())},g.pq=function(a){a.A(this.x)},g.qq=function(a){a.A(this.y)},g.Ld=function(a){a.A(this.b.kn(this))});m&&(c.sp=function(a,b){return Ob(this.width,a,b)},c.pp=function(a,b){return Ob(this.height,a,b)},d.Cl=function(a){this.width!==a&&(this.width=a,this.pa())},d.aq=function(a){this.height!==a&&(this.height=a,this.pa())},d.gq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.pa()},g.oq=function(a){a.A(this.width)},g.xp=function(a){a.A(this.height)},g.lp=function(a){this.ya();a.A(this.qa.left)},g.np=function(a){this.ya();a.A(this.qa.top)},g.mp=function(a){this.ya();a.A(this.qa.right)},g.kp=function(a){this.ya();a.A(this.qa.bottom)});b&&(c.nl=function(a,b){return Ga(this.k,V(b))<=V(a)},c.tl=function(a){return Ia(this.k,V(a))},c.sl=function(a,b){var c=Ea(a),e=Ea(b),d=Ca(this.k);return Ia(e,
c)?Ia(d,c)&&!Ia(d,e):!(!Ia(d,c)&&Ia(d,e))},d.Xp=function(a){a=V(Ba(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},d.Tp=function(a){0===a||isNaN(a)||(this.k+=V(a),this.k=Ca(this.k),this.pa())},d.Up=function(a){0===a||isNaN(a)||(this.k-=V(a),this.k=Ca(this.k),this.pa())},d.Vp=function(a,b){var c=Ha(this.k,V(b),V(a));isNaN(c)||this.k===c||(this.k=c,this.pa())},d.Wp=function(a,b,c){a=Ha(this.k,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},d.hq=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.k===c||(this.k=c,this.pa())},g.jp=function(a){a.A(Da(this.k))});p||(c.qp=function(a,b,c){return Ob(this.ca[a],b,c)},c.zp=function(a){return this.ca[a]},c.Qp=function(a,b){var c=this.S(),e=c.wb();if(!e.length)return!1;var d=e[0],f=d,g=d.ca[b],k,m,r;k=1;for(m=e.length;k<m;k++)if(d=e[k],r=d.ca[b],0===a&&r<g||1===a&&r>g)g=r,f=d;c.hf(f);return!0},c.Op=function(a){var b,c,e,d,f;if(this.b.jn().Ch){f=this.S();if(f.oa)for(f.oa=!1,U(f.d),U(f.F),e=this.d,b=0,c=e.length;b<c;b++)d=
e[b],d.uid===a?f.F.push(d):f.d.push(d);else{e=b=0;for(c=f.d.length;b<c;b++)d=f.d[b],f.d[e]=d,d.uid===a?f.F.push(d):e++;sa(f.d,e)}this.Gd();return!!f.d.length}d=this.b.sj(a);if(!d)return!1;f=this.S();if(!f.oa&&-1===f.d.indexOf(d))return!1;if(this.G)for(a=d.type.R,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.hf(d),this.Gd(),!0}else if(d.type===this)return f.hf(d),this.Gd(),!0;return!1},c.Fi=function(){return!0},c.yl=function(){return!0},d.bq=function(a,b){var c=this.ca;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):
N(c[a])&&(c[a]=N(b)?b:b.toString())},d.ip=function(a,b){var c=this.ca;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):N(c[a])&&(c[a]=N(b)?c[a]+b:c[a]+b.toString())},d.lq=function(a,b){var c=this.ca;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},d.Yp=function(a,b){this.ca[a]=b?1:0},d.mq=function(a){this.ca[a]=1-this.ca[a]},d.wp=function(){this.b.Bd(this)},d.wl||(d.wl=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.fg(this,b,!0);this.Xc&&this.Xc();if(this.B)for(a=0,b=this.B.length;a<
b;++a)c=this.B[a],c.Xc&&c.Xc()}),g.vp=function(a){var b=a.wd.d.length,c,d,e;c=0;for(d=this.b.Hb.length;c<d;c++)e=this.b.Hb[c],a.wd.G?0<=e.type.R.indexOf(a.wd)&&b++:e.type===a.wd&&b++;a.N(b)},g.Sp=function(a){a.N(a.wd.S().wb().length)},g.nq=function(a){a.N(this.uid)},g.yp=function(a){a.N(this.Ie())},g.ol||(g.ol=function(a){a.Sa(JSON.stringify(this.b.mi(this,!0)))}));a&&(c.Dp=function(){return this.visible},d.iq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.O=!0)},c.rp=function(a,b){return Ob(Za(100*
this.opacity),a,b)},d.cq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.O=!0)},g.Opacity=function(a){a.A(Za(100*this.opacity))});e&&(c.Ap=function(a){return a?this.e===a:!1},c.Rp=function(a){var b=this.S(),c=b.wb();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.e.index>e.e.index||d.e.index===e.e.index&&d.Nb()>e.Nb())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.Nb()<e.Nb())e=d;b.hf(e);return!0},d.Kp=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.fe(this,!1),a.se(this,!1),this.b.O=!0)},d.Ip=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.fe(this,!1),a.wo(this),this.b.O=!0)},d.Jp=function(a){a&&a!=this.e&&(this.e.fe(this,!0),this.e=a,a.se(this,!0),this.b.O=!0)},d.sq=function(a,b){var c=0===a;if(b){var d=b.ln(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.fe(this,!0),this.e=d.e,d.e.se(this,!0)),this.e.ho(this,d,c),this.b.O=!0)}},g.Fp=function(a){a.N(this.e.mk)},g.Ep=function(a){a.Sa(this.e.name)},
g.rq=function(a){a.N(this.Nb())});r&&(d.Zp=function(a,b){if(this.b.j){var c=this.type.qh(b);if(!(0>c)){var d=1===a;this.uc[c]!==d&&(this.uc[c]=d,this.Eb(),this.b.O=!0)}}},d.$p=function(a,b,c){if(this.b.j){var d=this.type.qh(a);0>d||(a=this.type.p[d],d=this.V[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.j.vn(a.ba,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Va&&(this.b.O=!0))))}})};vb=function(){this.Vg=this.Pg=!0;this.type.Li=!0;this.b.O=!0;var f,q,p=this.Qg;f=0;for(q=p.length;f<q;++f)p[f](this);this.e.gb&&
this.ya()};wb=function(f){f&&this.Qg.push(f)};yb=function(){if(this.Pg){var f=this.qa,q=this.Hd;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Rf*this.width,-this.Sf*this.height);this.k?(f.offset(-this.x,-this.y),q.Ok(f,this.k),q.offset(this.x,this.y),q.Ui(f)):q.xg(f);f.normalize();this.Pg=!1;this.cp()}};var f=new S(0,0,0,0);zb=function(){if(this.e.gb){var k=this.e.xa,q=this.qa;f.set(k.Ha(q.left),k.Ia(q.top),k.Ha(q.right),k.Ia(q.bottom));this.Ja.De(f)||(this.Ja.right<this.Ja.left?
k.update(this,null,f):k.update(this,this.Ja,f),this.Ja.xe(f),this.e.Cb=!0)}};Ab=function(){if(this.Vg&&this.yf){this.ya();var k=this.type.Zi,q=this.qa;f.set(k.Ha(q.left),k.Ia(q.top),k.Ha(q.right),k.Ia(q.bottom));this.Ec.De(f)||(this.Ec.right<this.Ec.left?k.update(this,null,f):k.update(this,this.Ec,f),this.Ec.xe(f),this.Vg=!1)}};xb=function(f,q){return this.qa.Gb(f,q)&&this.Hd.Gb(f,q)?this.al?this.Eq(f,q):this.ve&&!this.ve.Zn()?(this.ve.Rl(this.width,this.height,this.k),this.ve.Gb(f-this.x,q-this.y)):
!0:!1};rb=function(){this.type.Gg();return this.jd};Bb=function(){this.e.Ai();return this.Fb};Cb=function(){U(this.C);var f,q,p,u=!0;f=0;for(q=this.uc.length;f<q;f++)this.uc[f]&&(p=this.type.p[f],this.C.push(p),p.Ab||(u=!1));this.jl=!!this.C.length;this.kc=u};sb=function(){return"Inst"+this.Ak};fb=function(f){if(f&&f.bb&&f.type!=this){var q,p,u;q=0;for(p=f.siblings.length;q<p;q++)if(u=f.siblings[q],u.type==this)return u}f=this.S().wb();return f.length?f[0]:null};gb=function(f){var q=this.S().wb();
return q.length?q[f.Ie()%q.length]:null};eb=function(){if(this.ie&&!this.G){var f,q;f=0;for(q=this.d.length;f<q;f++)this.d[f].jd=f;var p=f,u=this.b.Hb;f=0;for(q=u.length;f<q;++f)u[f].type===this&&(u[f].jd=p++);this.ie=!1}};pb=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var q=this.b.Hb,p,u;p=0;for(u=q.length;p<u;++p)if(q[p].type===this){if(0===f)return q[p];--f}return null};hb=function(){return this.mc[this.Ib]};ib=function(){this.Ib++;this.Ib===this.mc.length?this.mc.push(new db(this)):
(this.mc[this.Ib].oa=!0,U(this.mc[this.Ib].F))};jb=function(){this.Ib++;this.Ib===this.mc.length&&this.mc.push(new db(this));var f=this.mc[this.Ib],q=this.mc[this.Ib-1];q.oa?(f.oa=!0,U(f.F)):(f.oa=!1,ta(f.d,q.d),ta(f.F,q.F))};kb=function(){this.Ib--};lb=function(f){var q,p,u,m,b,a=0;if(!this.G)for(q=0,p=this.R.length;q<p;q++)for(b=this.R[q],u=0,m=b.T.length;u<m;u++){if(f===b.T[u].name)return this.Q.lastBehIndex=a,b.T[u];a++}q=0;for(p=this.T.length;q<p;q++){if(f===this.T[q].name)return this.Q.lastBehIndex=
a,this.T[q];a++}return null};mb=function(f){return this.Mf(f)?this.Q.lastBehIndex:-1};nb=function(f){var q,p;q=0;for(p=this.p.length;q<p;q++)if(this.p[q].name===f)return q;return-1};ob=function(){if(this.bb&&!this.G){var f,q,p,u,m,b,a;this.Gg();b=this.S();var e=b.oa,r=(f=this.b.Za())&&f.Jb&&f.Jb.jc;f=0;for(q=this.Ma.length;f<q;f++)if(m=this.Ma[f],m!==this&&(m.Gg(),a=m.S(),a.oa=e,!e)){U(a.d);p=0;for(u=b.d.length;p<u;++p)a.d[p]=m.rh(b.d[p].jd);if(r)for(U(a.F),p=0,u=b.F.length;p<u;++p)a.F[p]=m.rh(b.F[p].jd)}}};
qb=function(){return"Type"+this.D};Ob=function(f,q,p){if("undefined"===typeof f||"undefined"===typeof p)return!1;switch(q){case 0:return f===p;case 1:return f!==p;case 2:return f<p;case 3:return f<=p;case 4:return f>p;case 5:return f>=p;default:return!1}}})();var Xb={};function Yb(f){this.b=f}
(function(){function f(){return b.length?b.pop():{}}function k(a){var e,f;e=0;for(f=a.length;e<f;e++)b.push(a[e]);U(a)}function q(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var p=Yb.prototype;p.eb=function(){p.pe.Cl=function(a){this.width!==a&&(this.width=a,this.ke=!0,this.pa())}};p.Ng=function(a){this.wa=a;this.b=a.b};var u=p.Ng.prototype;u.eb=function(){};u.rk=function(){if(!this.G){var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.Qb=null,f.vd=null,f.Qa=null}};
p.Dd=function(a){this.type=a;this.b=a.b;this.Sb?U(this.Mc):this.Mc=[];this.ke=!0};u=p.Dd.prototype;u.eb=function(){this.text=this.lb[0];this.visible=0===this.lb[1];this.font=this.lb[2];this.color=this.lb[3];this.Qf=this.lb[4];this.Ig=this.lb[5];this.Ci=0===this.lb[7];this.Nh=this.ag=this.width;this.$f=this.height;this.Ph=this.lb[8];this.Jf=this.Md="";this.Xk=this.Yk=this.kf=0;this.oo();this.Qa=this.vd=this.Qb=null;this.kk=!1;this.Ve=this.b.nc;this.Sb?this.ee.set(0,0,1,1):this.ee=new S(0,0,1,1);this.b.j&&
this.b.Xo(this)};u.oo=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.kf=parseInt(a[b].substr(0,a[b].length-2));this.ei=Math.ceil(this.kf/72*96)+4;0<b&&(this.Jf=a[b-1]);this.Md=a[b+1];for(b+=2;b<a.length;b++)this.Md+=" "+a[b];break}};u.Vb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Qf,va:this.Ig,wr:this.Ci,lho:this.Ph,fn:this.Md,fs:this.Jf,ps:this.kf,pxh:this.ei,tw:this.Yk,th:this.Xk,lrt:this.Ve}};u.Nc=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Qf=a.ha;this.Ig=a.va;this.Ci=a.wr;this.Ph=a.lho;this.Md=a.fn;this.Jf=a.fs;this.kf=a.ps;this.ei=a.pxh;this.Yk=a.tw;this.Xk=a.th;this.Ve=a.lrt;this.ke=!0;this.Nh=this.ag=this.width;this.$f=this.height};u.le=function(){if(this.b.j&&this.Qa&&300<=this.b.nc-this.Ve){var a=this.e;this.ya();var b=this.qa;if(b.right<a.H||b.bottom<a.I||b.left>a.L||b.top>a.K)this.b.j.deleteTexture(this.Qa),this.Qb=this.vd=this.Qa=null}};u.og=function(){this.Qb=this.vd=null;this.b.j&&this.Qa&&
this.b.j.deleteTexture(this.Qa);this.Qa=null};u.Nl=function(){this.font=this.Jf+" "+this.kf.toString()+"pt "+this.Md;this.ke=!0;this.b.O=!0};u.Fc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var f=1;b&&(f=Math.abs(this.e.Pa()),a.save(),a.scale(f,f));if(this.ke||this.width!==this.Nh)this.type.wa.Fl(this.text,this.Mc,a,this.width,this.Ci),this.ke=!1,this.Nh=this.width;this.ya();var f=b?0:this.Hd.oc,c=b?0:this.Hd.pc;this.b.$d&&(f=f+.5|0,c=
c+.5|0);0===this.k||b||(a.save(),a.translate(f,c),a.rotate(this.k),c=f=0);var d=c+this.height,g=this.ei,g=g+this.Ph,k,m;1===this.Ig?c+=Math.max(this.height/2-this.Mc.length*g/2,0):2===this.Ig&&(c+=Math.max(this.height-this.Mc.length*g-2,0));for(m=0;m<this.Mc.length&&!(k=f,1===this.Qf?k=f+(this.width-this.Mc[m].width)/2:2===this.Qf&&(k=f+(this.width-this.Mc[m].width)),a.fillText(this.Mc[m].text,k,c),c+=g,c>=d-g);m++);(0!==this.k||b)&&a.restore();this.Ve=this.b.nc};u.Lb=function(a){if(!(1>this.width||
1>this.height)){var b=this.ke||this.kk;this.kk=!1;var f=this.e.Pa(),c=this.e.Oa(),d=this.ee,g=f*this.width,k=f*this.height,m=Math.ceil(g),p=Math.ceil(k),q=Math.abs(m),h=Math.abs(p),n=this.b.n/2,u=this.b.m/2;this.vd||(this.Qb=document.createElement("canvas"),this.Qb.width=q,this.Qb.height=h,this.ag=q,this.$f=h,b=!0,this.vd=this.Qb.getContext("2d"));if(q!==this.ag||h!==this.$f)this.Qb.width=q,this.Qb.height=h,this.Qa&&(a.deleteTexture(this.Qa),this.Qa=null),b=!0;b&&(this.vd.clearRect(0,0,q,h),this.Fc(this.vd,
!0),this.Qa||(this.Qa=a.Xa(q,h,this.b.fa,this.b.nd)),a.fp(this.Qb,this.Qa,this.b.nd));this.ag=q;this.$f=h;a.ob(this.Qa);a.mf(this.opacity);a.mb();a.translate(-n,-u);a.fb();var B=this.Hd,b=this.e.da(B.oc,B.pc,!0),q=this.e.da(B.oc,B.pc,!1),h=this.e.da(B.Vc,B.Wc,!0),n=this.e.da(B.Vc,B.Wc,!1),u=this.e.da(B.zc,B.Ac,!0),Q=this.e.da(B.zc,B.Ac,!1),C=this.e.da(B.xc,B.yc,!0),B=this.e.da(B.xc,B.yc,!1);if(this.b.$d||0===this.k&&0===c)var W=(b+.5|0)-b,A=(q+.5|0)-q,b=b+W,q=q+A,h=h+W,n=n+A,u=u+W,Q=Q+A,C=C+W,B=B+
A;0===this.k&&0===c?(h=b+m,n=q,u=h,Q=q+p,C=b,B=Q,d.right=1,d.bottom=1):(d.right=g/m,d.bottom=k/p);a.de(b,q,h,n,u,Q,C,B,d);a.mb();a.scale(f,f);a.tg(-this.e.Oa());a.translate((this.e.H+this.e.L)/-2,(this.e.I+this.e.K)/-2);a.fb();this.Ve=this.b.nc}};var m=[];p.El=function(a){U(m);for(var b="",f,c=0;c<a.length;)if(f=a.charAt(c),"\n"===f)b.length&&(m.push(b),b=""),m.push("\n"),++c;else if(" "===f||"\t"===f||"-"===f){do b+=a.charAt(c),c++;while(c<a.length&&(" "===a.charAt(c)||"\t"===a.charAt(c)));m.push(b);
b=""}else c<a.length&&(b+=f,c++);b.length&&m.push(b)};var b=[];p.Fl=function(a,b,m,c,d){if(a&&a.length)if(2>=c)k(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var g=m.measureText(a).width;if(g<=c){k(b);b.push(f());b[0].text=a;b[0].width=g;return}}this.Gl(a,b,m,c,d)}else k(b)};p.Gl=function(a,e,k,c,d){d&&(this.El(a),a=m);var g="",l,p,v,u=0;for(v=0;v<a.length;v++)"\n"===a[v]?(u>=e.length&&e.push(f()),g=q(g),p=e[u],p.text=g,p.width=k.measureText(g).width,u++,g=""):(l=g,g+=a[v],p=k.measureText(g).width,
p>=c&&(u>=e.length&&e.push(f()),l=q(l),p=e[u],p.text=l,p.width=k.measureText(l).width,u++,g=a[v],d||" "!==g||(g="")));g.length&&(u>=e.length&&e.push(f()),g=q(g),p=e[u],p.text=g,p.width=k.measureText(g).width,u++);for(v=u;v<e.length;v++)b.push(e[v]);e.length=u};p.P=new function(){};p.pe=new function(){};p.fd=new function(){}})();
